<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Dragon Lab</title>
  
  <subtitle>天地所以能长且久者，以其不自生，故能长生。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://dragon-lab.github.io/"/>
  <updated>2018-05-04T14:19:19.000Z</updated>
  <id>http://dragon-lab.github.io/</id>
  
  <author>
    <name>Dragon</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>使用Privoxy给ShadowSocks设置Http代理</title>
    <link href="http://dragon-lab.github.io/2018/05/04/using-privoxy-with-http-proxy-for-shadowsocks/"/>
    <id>http://dragon-lab.github.io/2018/05/04/using-privoxy-with-http-proxy-for-shadowsocks/</id>
    <published>2018-05-04T06:04:46.000Z</published>
    <updated>2018-05-04T14:19:19.000Z</updated>
    
    <content type="html"><![CDATA[<pre><code>实践证明，直接用 Privoxy 作代理要比用Chrome代理插件网速快。</code></pre><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><ol><li><p>去 Privoxy 官网 下载安装包安装</p></li><li><p>当然别忘了打开 ShadowSocks</p></li></ol><h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><ol start="3"><li><p>编辑配置文件 /usr/local/etc/privoxy/config</p></li><li><p>找到socks5 那一段，在后面添加</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">forward-socks5 / 127.0.0.1:1080 .</span><br></pre></td></tr></table></figure></li><li><p>如果你想修改http代理的端口，找到这一段并修改（默认是8118）</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">listen-address 127.0.0.1:8118</span><br></pre></td></tr></table></figure></li></ol><h1 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h1><ol start="6"><li><p>然后重启Privoxy</p><p> /Application/Privoxy/stopPrivoxy.sh /Application/Privoxy/startPrivoxy.sh</p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;pre&gt;&lt;code&gt;实践证明，直接用 Privoxy 作代理要比用Chrome代理插件网速快。
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;&lt;p
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ElasticSearch</title>
    <link href="http://dragon-lab.github.io/2017/02/15/ElasticSearch/"/>
    <id>http://dragon-lab.github.io/2017/02/15/ElasticSearch/</id>
    <published>2017-02-15T09:34:58.000Z</published>
    <updated>2018-05-04T04:34:39.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h2 id="数据同步"><a href="#数据同步" class="headerlink" title="数据同步"></a>数据同步</h2><h2 id="性能测试"><a href="#性能测试" class="headerlink" title="性能测试"></a>性能测试</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h2&gt;&lt;h2 id=&quot;配置&quot;&gt;&lt;a href=&quot;#配置&quot; class=&quot;headerlink&quot; title=&quot;配置&quot;&gt;&lt;/a&gt;配置&lt;/h2&gt;&lt;h2 id
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>生活感想</title>
    <link href="http://dragon-lab.github.io/2017/02/09/Life-feeling/"/>
    <id>http://dragon-lab.github.io/2017/02/09/Life-feeling/</id>
    <published>2017-02-09T09:30:52.000Z</published>
    <updated>2018-05-04T04:34:39.000Z</updated>
    
    <content type="html"><![CDATA[<ol><li><p>随着渐渐的长大，逐渐明白世界上并没有坏人，但是会有无尽的执念，活在执念中的人是痛苦的。必须要有相应的胸襟、气度、修为、见识去调和。</p></li><li><p>不管工作多忙，一定要找到一件可以让自己开心的事，坚持做下去，哪怕仅仅占用了1%的时间，也是至关重要的。它可以在关键的时候陪你走过沮丧、失败、痛苦。</p></li><li><p>懂技术的人不一定可以天长地久，但是懂生活的人可以。</p><p> 在吃“初色”的时候我忽然想到，如果长征的时候，每个人都可以吃到这样的美味，是否还可以走得完两万五千里长征。少数人的雄心宏图不一定可以改变历史的轨迹，但大多数人的生活一定可以影响历史的轨迹。 懂得生活、懂得快乐，方能长久。</p></li><li><p>“忍辱”的意义在于体会”无我”</p><p> 有时候我会去想，为什么一定会有少部分的人去忍受，有没有一种合理的方式，可以顾全大部分人的利益，但似乎每一次都找不到答案，每一次的变动都一定会带来一些意想不到的东西。</p></li><li><p>如无必要，勿增实体。</p></li><li><p>勤修行，少用神通。 心自在，方容天下。</p></li><li><p>窥一斑而知全豹，为上等人。见豹而知豹，为中等人。见豹而不自知，非有心之过，不知者不怪，切莫轻易责于人而。</p></li><li><p>知对而行便是善，知错而行便是恶。善恶不在于心，而见于行。</p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ol&gt;
&lt;li&gt;&lt;p&gt;随着渐渐的长大，逐渐明白世界上并没有坏人，但是会有无尽的执念，活在执念中的人是痛苦的。必须要有相应的胸襟、气度、修为、见识去调和。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;不管工作多忙，一定要找到一件可以让自己开心的事，坚持做下去，哪怕仅仅占用了1%的时间，也是
      
    
    </summary>
    
    
      <category term="随笔" scheme="http://dragon-lab.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>Apache TinkerPop</title>
    <link href="http://dragon-lab.github.io/2017/02/08/Apache-Tinkerpop/"/>
    <id>http://dragon-lab.github.io/2017/02/08/Apache-Tinkerpop/</id>
    <published>2017-02-08T06:13:03.000Z</published>
    <updated>2018-05-04T04:34:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>图是顶点（即节点、点）和边（即关系、线）的集合，其中顶点是表示某个域对象的实体（例如一个人、一个地方等），边代表两个顶点之间的关系。</p><p>TinkerPop是一个开源的图数据库程序的开发框架。Mallette回复了一个<a href="http://stackoverflow.com/questions/20522547/what-is-tinkerpop" target="_blank" rel="noopener">帖子</a>说明了了TinkerPop不是一种编写图应用程序的规范或标准。TinkerPop仅仅提供一系列的接口，图数据库和数据库供应商可以实现（Blueprints），获得TinkerPop的其余特性，支持基于图的应用程序开发。</p><h2 id="TinkerPop-资料"><a href="#TinkerPop-资料" class="headerlink" title="TinkerPop 资料"></a>TinkerPop 资料</h2><p><a href="http://umlg.org/sqlg.html" target="_blank" rel="noopener">http://umlg.org/sqlg.html</a></p><h2 id="TinkerPop-入门"><a href="#TinkerPop-入门" class="headerlink" title="TinkerPop 入门"></a>TinkerPop 入门</h2><h3 id="Gremlin-Console"><a href="#Gremlin-Console" class="headerlink" title="Gremlin Console"></a>Gremlin Console</h3><p>下载<a href="https://www.apache.org/dyn/closer.lua/tinkerpop/3.2.3/apache-tinkerpop-gremlin-console-3.2.3-bin.zip" target="_blank" rel="noopener">Gremlin Console</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ unzip apache-tinkerpop-gremlin-console-3.2.3-bin.zip</span><br><span class="line">$ <span class="built_in">cd</span> apache-tinkerpop-gremlin-console-3.2.3/</span><br><span class="line">$ apache-tinkerpop-gremlin-console-3.2.3 bin/gremlin.sh</span><br><span class="line"></span><br><span class="line">         \,,,/</span><br><span class="line">         (o o)</span><br><span class="line">-----oOOo-(3)-oOOo-----</span><br><span class="line">plugin activated: tinkerpop.server</span><br><span class="line">plugin activated: tinkerpop.utilities</span><br><span class="line">plugin activated: tinkerpop.tinkergraph</span><br><span class="line">gremlin&gt;</span><br></pre></td></tr></table></figure><h3 id="简单遍历"><a href="#简单遍历" class="headerlink" title="简单遍历"></a>简单遍历</h3><p>使用<code>Gremlin Console</code>创建一个下面这样的图</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/tinkerpop-modern.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>使用下面的命令在<code>Gremlin Console</code>中实例化</p><p>创建了一个<code>graph</code>的图实例，仅仅提供了图的一些基本操作和数据。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gremlin&gt; graph = TinkerFactory.createModern()</span><br><span class="line">==&gt;tinkergraph[vertices:6 edges:6]</span><br></pre></td></tr></table></figure><p>还需要一个<code>TraversalSource</code>提供了额外的操作，例如遍历策略。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gremlin&gt; g = graph.traversal()</span><br><span class="line">==&gt;graphtraversalsource[tinkergraph[vertices:6 edges:6], standard]</span><br><span class="line">gremlin&gt;</span><br></pre></td></tr></table></figure><p>获取所有顶点</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gremlin&gt; g.V()</span><br><span class="line">==&gt;v[1]</span><br><span class="line">==&gt;v[2]</span><br><span class="line">==&gt;v[3]</span><br><span class="line">==&gt;v[4]</span><br><span class="line">==&gt;v[5]</span><br><span class="line">==&gt;v[6]</span><br></pre></td></tr></table></figure><p>获取id=1的顶点</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gremlin&gt; g.V(1)</span><br><span class="line">==&gt;v[1]</span><br></pre></td></tr></table></figure><p>获取id=1的顶点 name 属性的值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gremlin&gt; g.V(1).values(&apos;name&apos;)</span><br><span class="line">==&gt;marko</span><br></pre></td></tr></table></figure><p>获取id=1的订单的所有指向节点，且包含标签knows的边</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gremlin&gt; g.V(1).outE(&apos;knows&apos;)</span><br><span class="line">==&gt;e[7][1-knows-&gt;2]</span><br><span class="line">==&gt;e[8][1-knows-&gt;4]</span><br></pre></td></tr></table></figure><p>获取id=1的订单的所有指向节点，且包含标签knows的边指向顶点的 name 属性的值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gremlin&gt; g.V(1).outE(&apos;knows&apos;).inV().values(&apos;name&apos;)</span><br><span class="line">==&gt;vadas</span><br><span class="line">==&gt;josh</span><br></pre></td></tr></table></figure><p><code>.out()</code> == <code>.outE().inV()</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gremlin&gt; g.V(1).out(&apos;knows&apos;).values(&apos;name&apos;)</span><br><span class="line">==&gt;vadas</span><br><span class="line">==&gt;josh</span><br></pre></td></tr></table></figure><p>获取id=1的订单的所有指向节点，且包含标签knows的边指向的顶点，且age &gt; 30的顶点的 name 属性的值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gremlin&gt; g.V(1).out(&apos;knows&apos;).has(&apos;age&apos;, gt(30)).values(&apos;name&apos;)</span><br><span class="line">==&gt;josh</span><br></pre></td></tr></table></figure><h3 id="复杂遍历"><a href="#复杂遍历" class="headerlink" title="复杂遍历"></a>复杂遍历</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">gremlin&gt; graph = TinkerFactory.createModern()</span><br><span class="line">==&gt;tinkergraph[vertices:6 edges:6]</span><br><span class="line">gremlin&gt; g = graph.traversal()</span><br><span class="line">==&gt;graphtraversalsource[tinkergraph[vertices:6 edges:6], standard]</span><br><span class="line">gremlin&gt; g.V().has(&apos;name&apos;,within(&apos;vadas&apos;,&apos;marko&apos;)).values(&apos;age&apos;)</span><br><span class="line">==&gt;29</span><br><span class="line">==&gt;27</span><br><span class="line">gremlin&gt; g.V().has(&apos;name&apos;,within(&apos;vadas&apos;,&apos;marko&apos;)).values(&apos;age&apos;).mean()</span><br><span class="line">==&gt;28.0</span><br><span class="line">gremlin&gt; g.V().has(&apos;name&apos;,&apos;marko&apos;).out(&apos;created&apos;)</span><br><span class="line">==&gt;v[3]</span><br><span class="line">gremlin&gt; g.V().has(&apos;name&apos;,&apos;marko&apos;).out(&apos;created&apos;).in(&apos;created&apos;).values(&apos;name&apos;)</span><br><span class="line">==&gt;marko</span><br><span class="line">==&gt;josh</span><br><span class="line">==&gt;peter</span><br><span class="line">gremlin&gt; g.V().has(&apos;name&apos;,&apos;marko&apos;).as(&apos;exclude&apos;).out(&apos;created&apos;).in(&apos;created&apos;).where(neq(&apos;exclude&apos;)).values(&apos;name&apos;)</span><br><span class="line">==&gt;josh</span><br><span class="line">==&gt;peter</span><br><span class="line">gremlin&gt; g.V().as(&apos;a&apos;).out().as(&apos;b&apos;).out().as(&apos;c&apos;).select(&apos;a&apos;,&apos;b&apos;,&apos;c&apos;)</span><br><span class="line">==&gt;[a:v[1],b:v[4],c:v[5]]</span><br><span class="line">==&gt;[a:v[1],b:v[4],c:v[3]]</span><br><span class="line">gremlin&gt; g.V().group().by(label)</span><br><span class="line">==&gt;[software:[v[3],v[5]],person:[v[1],v[2],v[4],v[6]]]</span><br><span class="line">gremlin&gt; g.V().group().by(label).by(&apos;name&apos;)</span><br><span class="line">==&gt;[software:[lop,ripple],person:[marko,vadas,josh,peter]]</span><br></pre></td></tr></table></figure><h3 id="创建一个图"><a href="#创建一个图" class="headerlink" title="创建一个图"></a>创建一个图</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/modern-edge-1-to-3-1.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>上图展示了一个包含两个顶点的图，分别是<code>id=1</code>，<code>id=3</code>。边的<code>id=9</code>，并且边有个方向<code>1-&gt;3</code>。</p><p>只有顶点和边的图，并没有什么意义，所以接下来我们给这些顶点和边赋予一些业务上的含义。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/modern-edge-1-to-3-2.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>还可以给这些实体增加一些标签</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/modern-edge-1-to-3-3.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>这种模式可以直观的表示数据，使用下面的命令来创建这个图：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">gremlin&gt; graph = TinkerGraph.open()</span><br><span class="line">==&gt;tinkergraph[vertices:0 edges:0]</span><br><span class="line">gremlin&gt; v1 = graph.addVertex(T.id, 1, T.label, &quot;person&quot;, &quot;name&quot;, &quot;marko&quot;, &quot;age&quot;, 29)</span><br><span class="line">==&gt;v[1]</span><br><span class="line">gremlin&gt; v2 = graph.addVertex(T.id, 3, T.label, &quot;software&quot;, &quot;name&quot;, &quot;lop&quot;, &quot;lang&quot;, &quot;java&quot;)</span><br><span class="line">==&gt;v[3]</span><br><span class="line">gremlin&gt; v1.addEdge(&quot;created&quot;, v2, T.id, 9, &quot;weight&quot;, 0.4)</span><br><span class="line">==&gt;e[9][1-created-&gt;3]</span><br></pre></td></tr></table></figure><p><code>T.id</code> 和 <code>T.label</code> 是保留关键字，可以将<code>T</code>看做一个静态变量。</p><h3 id="遍历自己的图"><a href="#遍历自己的图" class="headerlink" title="遍历自己的图"></a>遍历自己的图</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">gremlin&gt; g = graph.traversal();</span><br><span class="line">==&gt;graphtraversalsource[tinkergraph[vertices:2 edges:1], standard]</span><br><span class="line">gremlin&gt; g.V().has(&quot;name&quot;, &quot;marko&quot;)</span><br><span class="line">==&gt;v[1]</span><br><span class="line">gremlin&gt; g.V().has(&apos;name&apos;,&apos;marko&apos;).outE(&apos;created&apos;)</span><br><span class="line">==&gt;e[9][1-created-&gt;3]</span><br><span class="line">gremlin&gt; g.V().has(&apos;name&apos;,&apos;marko&apos;).outE(&apos;created&apos;).inV()</span><br><span class="line">==&gt;v[3]</span><br><span class="line">gremlin&gt; g.V().has(&apos;name&apos;,&apos;marko&apos;).out(&apos;created&apos;)</span><br><span class="line">==&gt;v[3]</span><br><span class="line">gremlin&gt; g.V().has(&apos;name&apos;,&apos;marko&apos;).out(&apos;created&apos;).values(&apos;name&apos;)</span><br><span class="line">==&gt;lop</span><br></pre></td></tr></table></figure><h3 id="加载数据"><a href="#加载数据" class="headerlink" title="加载数据"></a>加载数据</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ curl -L -O http://snap.stanford.edu/data/wiki-Vote.txt.gz</span><br><span class="line">$ gunzip wiki-Vote.txt.gz</span><br></pre></td></tr></table></figure><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">graph = TinkerGraph.open()</span><br><span class="line">graph.createIndex(<span class="string">'userId'</span>, Vertex.<span class="keyword">class</span>) (<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">g = graph.traversal()</span><br><span class="line"></span><br><span class="line">getOrCreate = &#123; id -&gt;</span><br><span class="line">  g.V().has(<span class="string">'userId'</span>, id).tryNext().orElseGet&#123; g.addV(<span class="string">'userId'</span>, id).next() &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> File(<span class="string">'wiki-Vote.txt'</span>).eachLine &#123;</span><br><span class="line">  <span class="keyword">if</span> (!it.startsWith(<span class="string">"#"</span>))&#123;</span><br><span class="line">    (fromVertex, toVertex) = it.split(<span class="string">'\t'</span>).collect(getOrCreate) (<span class="number">2</span>)</span><br><span class="line">    fromVertex.addEdge(<span class="string">'votesFor'</span>, toVertex)</span><br><span class="line">  &#125;</span><br><span class="line">&#125; &#125; &#125;</span><br></pre></td></tr></table></figure><p>在<code>Gremlin Console</code>里的运行结果如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">➜  apache-tinkerpop-gremlin-console-3.2.3 bin/gremlin.sh</span><br><span class="line"></span><br><span class="line">         \,,,/</span><br><span class="line">         (o o)</span><br><span class="line">-----oOOo-(3)-oOOo-----</span><br><span class="line">plugin activated: tinkerpop.server</span><br><span class="line">plugin activated: tinkerpop.utilities</span><br><span class="line">plugin activated: tinkerpop.tinkergraph</span><br><span class="line">gremlin&gt; graph = TinkerGraph.open()</span><br><span class="line">==&gt;tinkergraph[vertices:0 edges:0]</span><br><span class="line">gremlin&gt; graph.createIndex(&apos;userId&apos;, Vertex.class)</span><br><span class="line">==&gt;null</span><br><span class="line">gremlin&gt; g = graph.traversal()</span><br><span class="line">==&gt;graphtraversalsource[tinkergraph[vertices:0 edges:0], standard]</span><br><span class="line">gremlin&gt;</span><br><span class="line">gremlin&gt; getOrCreate = &#123; id -&gt;</span><br><span class="line">......1&gt;     g.V().has(&apos;userId&apos;, id).tryNext().orElseGet&#123; g.addV(&apos;userId&apos;, id).next() &#125;</span><br><span class="line">......2&gt; &#125;</span><br><span class="line">==&gt;groovysh_evaluate$_run_closure1@323e8306</span><br><span class="line">gremlin&gt; new File(&apos;../wiki-Vote.txt&apos;).eachLine &#123;</span><br><span class="line">......1&gt;     if (!it.startsWith(&quot;#&quot;))&#123;</span><br><span class="line">......2&gt;         (fromVertex, toVertex) = it.split(&apos;\t&apos;).collect(getOrCreate)</span><br><span class="line">......3&gt;         fromVertex.addEdge(&apos;votesFor&apos;, toVertex)</span><br><span class="line">......4&gt;     &#125;</span><br><span class="line">......5&gt; &#125;</span><br><span class="line">==&gt;e[117918][117916-votesFor-&gt;44907] &#125; &#125;</span><br></pre></td></tr></table></figure><ol><li><p>首先为了快速查询节点，建立索引</p></li><li><p>在<code>wiki-Vote.txt</code>的每一行使用<code>\t</code>区分<code>from</code>、<code>to</code>顶点</p></li><li><p>加载更大的数据集，建议阅读<a href="http://tinkerpop.apache.org/docs/3.2.3/reference/#bulkloadervertexprogram" target="_blank" rel="noopener">BulkLoaderVertexProgram(BLVP)</a>，提供了一种可以加载任意大小数据的方法。</p></li></ol><h3 id="Gremlin-Server"><a href="#Gremlin-Server" class="headerlink" title="Gremlin Server"></a>Gremlin Server</h3><p>下载<a href="https://www.apache.org/dyn/closer.lua/tinkerpop/3.2.3/apache-tinkerpop-gremlin-server-3.2.3-bin.zip" target="_blank" rel="noopener">Gremlin Server</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">$ unzip apache-tinkerpop-gremlin-server-3.2.3-bin.zip</span><br><span class="line">$ <span class="built_in">cd</span> apache-tinkerpop-gremlin-server-3.2.3</span><br><span class="line">$ bin/gremlin-server.sh</span><br><span class="line">[INFO] GremlinServer -</span><br><span class="line">         \,,,/</span><br><span class="line">         (o o)</span><br><span class="line">-----oOOo-(3)-oOOo-----</span><br><span class="line"></span><br><span class="line">[INFO] GremlinServer - Configuring Gremlin Server from conf/gremlin-server.yaml</span><br><span class="line">[INFO] MetricManager - Configured Metrics ConsoleReporter configured with report interval=180000ms</span><br><span class="line">[INFO] MetricManager - Configured Metrics CsvReporter configured with report interval=180000ms to fileName=/tmp/gremlin-server-metrics.csv</span><br><span class="line">[INFO] MetricManager - Configured Metrics JmxReporter configured with domain= and agentId=</span><br><span class="line">[INFO] MetricManager - Configured Metrics Slf4jReporter configured with interval=180000ms and loggerName=org.apache.tinkerpop.gremlin.server.Settings<span class="variable">$Slf4jReporterMetrics</span></span><br><span class="line">[INFO] GraphManager - Graph [graph] was successfully configured via [conf/tinkergraph-empty.properties].</span><br><span class="line">[INFO] ServerGremlinExecutor - Initialized Gremlin thread pool.  Threads <span class="keyword">in</span> pool named with pattern gremlin-*</span><br><span class="line">[INFO] ScriptEngines - Loaded gremlin-groovy ScriptEngine</span><br><span class="line">[INFO] GremlinExecutor - Initialized gremlin-groovy ScriptEngine with scripts/empty-sample.groovy</span><br><span class="line">[INFO] ServerGremlinExecutor - Initialized GremlinExecutor and configured ScriptEngines.</span><br><span class="line">[INFO] ServerGremlinExecutor - A GraphTraversalSource is now bound to [g] with graphtraversalsource[tinkergraph[vertices:0 edges:0], standard]</span><br><span class="line">[INFO] OpLoader - Adding the standard OpProcessor.</span><br><span class="line">[INFO] OpLoader - Adding the control OpProcessor.</span><br><span class="line">[INFO] OpLoader - Adding the session OpProcessor.</span><br><span class="line">[INFO] OpLoader - Adding the traversal OpProcessor.</span><br><span class="line">[INFO] TraversalOpProcessor - Initialized cache <span class="keyword">for</span> TraversalOpProcessor with size 1000 and expiration time of 600000 ms</span><br><span class="line">[INFO] GremlinServer - Executing start up LifeCycleHook</span><br><span class="line">[INFO] Logger<span class="variable">$info</span> - Executed once at startup of Gremlin Server.</span><br><span class="line">[INFO] AbstractChannelizer - Configured application/vnd.gremlin-v1.0+gryo with org.apache.tinkerpop.gremlin.driver.ser.GryoMessageSerializerV1d0</span><br><span class="line">[INFO] AbstractChannelizer - Configured application/vnd.gremlin-v1.0+gryo-lite with org.apache.tinkerpop.gremlin.driver.ser.GryoLiteMessageSerializerV1d0</span><br><span class="line">[INFO] AbstractChannelizer - Configured application/vnd.gremlin-v1.0+gryo-stringd with org.apache.tinkerpop.gremlin.driver.ser.GryoMessageSerializerV1d0</span><br><span class="line">[INFO] AbstractChannelizer - Configured application/vnd.gremlin-v1.0+json with org.apache.tinkerpop.gremlin.driver.ser.GraphSONMessageSerializerGremlinV1d0</span><br><span class="line">[INFO] AbstractChannelizer - Configured application/vnd.gremlin-v2.0+json with org.apache.tinkerpop.gremlin.driver.ser.GraphSONMessageSerializerGremlinV2d0</span><br><span class="line">[INFO] AbstractChannelizer - Configured application/json with org.apache.tinkerpop.gremlin.driver.ser.GraphSONMessageSerializerV1d0</span><br><span class="line">[INFO] GremlinServer<span class="variable">$1</span> - Gremlin Server configured with worker thread pool of 1, gremlin pool of 4 and boss thread pool of 1.</span><br><span class="line">[INFO] GremlinServer<span class="variable">$1</span> - Channel started at port 8182.</span><br></pre></td></tr></table></figure><h2 id="TinkerPop-高级功能"><a href="#TinkerPop-高级功能" class="headerlink" title="TinkerPop 高级功能"></a>TinkerPop 高级功能</h2><h3 id="TinkerPop-2"><a href="#TinkerPop-2" class="headerlink" title="TinkerPop 2"></a>TinkerPop 2</h3><p><code>TinkerPop 2</code>中的组件和<code>TinkerPop 3</code>的对应关系</p><p>Blueprints → Gremlin Structure API<br>Pipes → GraphTraversal<br>Frames → Traversal<br>Furnace → GraphComputer and VertexProgram<br>Rexster → GremlinServer</p><h3 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h3><p>查看<code>TinkerPop</code>支持的features</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">gremlin&gt; graph = TinkerGraph.open()</span><br><span class="line">==&gt;tinkergraph[vertices:0 edges:0]</span><br><span class="line">gremlin&gt; graph.features()</span><br><span class="line">==&gt;FEATURES</span><br><span class="line">&gt; GraphFeatures</span><br><span class="line">&gt;-- Persistence: true</span><br><span class="line">&gt;-- ConcurrentAccess: false</span><br><span class="line">&gt;-- ThreadedTransactions: false</span><br><span class="line">&gt;-- Transactions: false</span><br><span class="line">&gt;-- Computer: true</span><br><span class="line">&gt; VariableFeatures</span><br><span class="line">&gt;-- Variables: true</span><br><span class="line">&gt;-- FloatValues: true</span><br><span class="line">&gt;-- IntegerValues: true</span><br><span class="line">&gt;-- LongValues: true</span><br><span class="line">&gt;-- MapValues: true</span><br><span class="line">&gt;-- MixedListValues: true</span><br><span class="line">&gt;-- SerializableValues: true</span><br><span class="line">&gt;-- StringValues: true</span><br><span class="line">&gt;-- UniformListValues: true</span><br><span class="line">&gt;-- BooleanArrayValues: true</span><br><span class="line">&gt;-- ByteArrayValues: true</span><br><span class="line">&gt;-- DoubleArrayValues: true</span><br><span class="line">&gt;-- FloatArrayValues: true</span><br><span class="line">&gt;-- IntegerArrayValues: true</span><br><span class="line">&gt;-- LongArrayValues: true</span><br><span class="line">&gt;-- StringArrayValues: true</span><br><span class="line">&gt;-- BooleanValues: true</span><br><span class="line">&gt;-- ByteValues: true</span><br><span class="line">&gt;-- DoubleValues: true</span><br><span class="line">&gt; VertexFeatures</span><br><span class="line">&gt;-- RemoveVertices: true</span><br><span class="line">&gt;-- MultiProperties: true</span><br><span class="line">&gt;-- AddVertices: true</span><br><span class="line">&gt;-- MetaProperties: true</span><br><span class="line">&gt;-- AddProperty: true</span><br><span class="line">&gt;-- RemoveProperty: true</span><br><span class="line">&gt;-- NumericIds: true</span><br><span class="line">&gt;-- StringIds: true</span><br><span class="line">&gt;-- UuidIds: true</span><br><span class="line">&gt;-- CustomIds: false</span><br><span class="line">&gt;-- AnyIds: true</span><br><span class="line">&gt;-- UserSuppliedIds: true</span><br><span class="line">&gt; VertexPropertyFeatures</span><br><span class="line">&gt;-- AddProperty: true</span><br><span class="line">&gt;-- RemoveProperty: true</span><br><span class="line">&gt;-- NumericIds: true</span><br><span class="line">&gt;-- StringIds: true</span><br><span class="line">&gt;-- UuidIds: true</span><br><span class="line">&gt;-- CustomIds: false</span><br><span class="line">&gt;-- AnyIds: true</span><br><span class="line">&gt;-- UserSuppliedIds: true</span><br><span class="line">&gt;-- Properties: true</span><br><span class="line">&gt;-- FloatValues: true</span><br><span class="line">&gt;-- IntegerValues: true</span><br><span class="line">&gt;-- LongValues: true</span><br><span class="line">&gt;-- MapValues: true</span><br><span class="line">&gt;-- MixedListValues: true</span><br><span class="line">&gt;-- SerializableValues: true</span><br><span class="line">&gt;-- StringValues: true</span><br><span class="line">&gt;-- UniformListValues: true</span><br><span class="line">&gt;-- BooleanArrayValues: true</span><br><span class="line">&gt;-- ByteArrayValues: true</span><br><span class="line">&gt;-- DoubleArrayValues: true</span><br><span class="line">&gt;-- FloatArrayValues: true</span><br><span class="line">&gt;-- IntegerArrayValues: true</span><br><span class="line">&gt;-- LongArrayValues: true</span><br><span class="line">&gt;-- StringArrayValues: true</span><br><span class="line">&gt;-- BooleanValues: true</span><br><span class="line">&gt;-- ByteValues: true</span><br><span class="line">&gt;-- DoubleValues: true</span><br><span class="line">&gt; EdgeFeatures</span><br><span class="line">&gt;-- AddEdges: true</span><br><span class="line">&gt;-- RemoveEdges: true</span><br><span class="line">&gt;-- AddProperty: true</span><br><span class="line">&gt;-- RemoveProperty: true</span><br><span class="line">&gt;-- NumericIds: true</span><br><span class="line">&gt;-- StringIds: true</span><br><span class="line">&gt;-- UuidIds: true</span><br><span class="line">&gt;-- CustomIds: false</span><br><span class="line">&gt;-- AnyIds: true</span><br><span class="line">&gt;-- UserSuppliedIds: true</span><br><span class="line">&gt; EdgePropertyFeatures</span><br><span class="line">&gt;-- Properties: true</span><br><span class="line">&gt;-- FloatValues: true</span><br><span class="line">&gt;-- IntegerValues: true</span><br><span class="line">&gt;-- LongValues: true</span><br><span class="line">&gt;-- MapValues: true</span><br><span class="line">&gt;-- MixedListValues: true</span><br><span class="line">&gt;-- SerializableValues: true</span><br><span class="line">&gt;-- StringValues: true</span><br><span class="line">&gt;-- UniformListValues: true</span><br><span class="line">&gt;-- BooleanArrayValues: true</span><br><span class="line">&gt;-- ByteArrayValues: true</span><br><span class="line">&gt;-- DoubleArrayValues: true</span><br><span class="line">&gt;-- FloatArrayValues: true</span><br><span class="line">&gt;-- IntegerArrayValues: true</span><br><span class="line">&gt;-- LongArrayValues: true</span><br><span class="line">&gt;-- StringArrayValues: true</span><br><span class="line">&gt;-- BooleanValues: true</span><br><span class="line">&gt;-- ByteValues: true</span><br><span class="line">&gt;-- DoubleValues: true</span><br></pre></td></tr></table></figure><h2 id="TinkerPop-存储"><a href="#TinkerPop-存储" class="headerlink" title="TinkerPop 存储"></a>TinkerPop 存储</h2><h3 id="TinkerGraph"><a href="#TinkerGraph" class="headerlink" title="TinkerGraph"></a>TinkerGraph</h3><p>TinkerGraph (TinkerGraph) </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.tinkerpop.blueprints<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>blueprints-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>??<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Neo4j"><a href="#Neo4j" class="headerlink" title="Neo4j"></a>Neo4j</h3><p>Neo4j Implementation (Neo4jGraph) </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.tinkerpop.blueprints<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>blueprints-neo4j-graph<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>??<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.tinkerpop.blueprints<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>blueprints-neo4j2-graph<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>??<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Neo4jHA"><a href="#Neo4jHA" class="headerlink" title="Neo4jHA"></a>Neo4jHA</h3><p>Neo4jHA Implementation (Neo4jHaGraph) </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.tinkerpop.blueprints<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>blueprints-neo4j-graph<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>??<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Neo4jBatch"><a href="#Neo4jBatch" class="headerlink" title="Neo4jBatch"></a>Neo4jBatch</h3><p>Neo4jBatch Implementation (Neo4jBatchGraph) </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.tinkerpop.blueprints<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>blueprints-neo4jbatch-graph<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>??<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Sail"><a href="#Sail" class="headerlink" title="Sail"></a>Sail</h3><p>Sail Implementation (SailGraph) </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.tinkerpop.blueprints<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>blueprints-sail-graph<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>??<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Sparksee"><a href="#Sparksee" class="headerlink" title="Sparksee"></a>Sparksee</h3><p>Sparksee Implementation (SparkseeGraph) </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.tinkerpop.blueprints<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>blueprints-sparksee-graph<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>??<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Rexster"><a href="#Rexster" class="headerlink" title="Rexster"></a>Rexster</h3><p>Rexster Implementation (RexsterGraph) </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.tinkerpop.blueprints<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>blueprints-rexster-graph<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>??<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Accumulo"><a href="#Accumulo" class="headerlink" title="Accumulo"></a>Accumulo</h3><p>Accumulo Implementation (AccumuloGraph – 3rd party – implements Blueprints 2.4.0) </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>edu.jhuapl.tinkerpop<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>blueprints-accumulo-graph<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ArangoDB"><a href="#ArangoDB" class="headerlink" title="ArangoDB"></a>ArangoDB</h3><p>ArangoDB Implementation (ArangoDBGraph – 3rd party – implements Blueprints 2.3.0) </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.arangodb<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>blueprints-arangodb-graph<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.15<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Bitsy"><a href="#Bitsy" class="headerlink" title="Bitsy"></a>Bitsy</h3><p>Bitsy (BitsyGraph – 3rd party – implements Blueprints 2.4.0) </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.lambdazen.bitsy<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>bitsy<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Bigdata"><a href="#Bigdata" class="headerlink" title="Bigdata"></a>Bigdata</h3><p>Bigdata (BigdataGraph – 3rd party – implements Blueprints 2.5.0) </p><h3 id="FluxGraph"><a href="#FluxGraph" class="headerlink" title="FluxGraph"></a>FluxGraph</h3><p>FluxGraph - Datomic Implementation (FluxGraph – 3rd party – implements Blueprints 2.1.0) </p><h3 id="FoundationDB"><a href="#FoundationDB" class="headerlink" title="FoundationDB"></a>FoundationDB</h3><p>FoundationDB Implementation (FoundationDBGraph – 3rd party – implements Blueprints 2.4.0) </p><h3 id="InfiniteGraph"><a href="#InfiniteGraph" class="headerlink" title="InfiniteGraph"></a>InfiniteGraph</h3><p>InfiniteGraph Implementation (IGGraph – 3rd party – implements Blueprints 2.1.0) </p><h3 id="JPA"><a href="#JPA" class="headerlink" title="JPA"></a>JPA</h3><p>JPA Implementation (JpaGraph – 3rd party – implements Blueprints 2.5.0) </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.wingnest.blueprints<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>blueprints-jpa-graph<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.0_01<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">Repository: http://www.wingnest.com/mvn-repo/</span><br></pre></td></tr></table></figure><h3 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a>MongoDB</h3><p>MongoDB Implementation (MongoDBGraph – 3rd party – implements Blueprints 2.3.0) </p><h3 id="Oracle-NoSQL"><a href="#Oracle-NoSQL" class="headerlink" title="Oracle NoSQL"></a>Oracle NoSQL</h3><p>Oracle NoSQL Implementation (KVGraph – 3rd party – implements Blueprints 2.1.0) </p><h3 id="OrientDB"><a href="#OrientDB" class="headerlink" title="OrientDB"></a>OrientDB</h3><p>OrientDB Implementation (OrientGraph – 3rd party – implements Blueprints 2.4.0) </p><h3 id="SQL-JDBC"><a href="#SQL-JDBC" class="headerlink" title="SQL/JDBC"></a>SQL/JDBC</h3><p>SQL/JDBC Implementation – 3rd party – implements Blueprints 2.4.0) </p><h3 id="Titan"><a href="#Titan" class="headerlink" title="Titan"></a>Titan</h3><p>Titan Implementation (TitanGraph – 3rd party – implements Blueprints 2.3.0)</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;图是顶点（即节点、点）和边（即关系、线）的集合，其中顶点是表示某个域对象的实体（例如一个人、一个地方等），边代表两个顶点之间的关系。&lt;/p&gt;
&lt;p&gt;TinkerPop是一个开源的图数据库程序的开发框架。Mallette回复了一个&lt;a href=&quot;http://stackov
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Apache Camel的一些经验</title>
    <link href="http://dragon-lab.github.io/2017/02/07/Learning-Apache-Camel/"/>
    <id>http://dragon-lab.github.io/2017/02/07/Learning-Apache-Camel/</id>
    <published>2017-02-07T03:39:17.000Z</published>
    <updated>2018-05-04T04:34:39.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
      <category term="Java" scheme="http://dragon-lab.github.io/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>LFS 安装过程</title>
    <link href="http://dragon-lab.github.io/2017/02/07/Linux-From-Scratch/"/>
    <id>http://dragon-lab.github.io/2017/02/07/Linux-From-Scratch/</id>
    <published>2017-02-07T03:37:56.000Z</published>
    <updated>2018-05-04T04:34:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>从2012年开始，每年都会找个时间编译下LFS，从Linux小白到现在，每次编译LFS都会对Linux有很多新的认识。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;从2012年开始，每年都会找个时间编译下LFS，从Linux小白到现在，每次编译LFS都会对Linux有很多新的认识。&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="Linux" scheme="http://dragon-lab.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Ansible 学习笔记</title>
    <link href="http://dragon-lab.github.io/2017/02/07/Learning-Ansible/"/>
    <id>http://dragon-lab.github.io/2017/02/07/Learning-Ansible/</id>
    <published>2017-02-07T03:02:07.000Z</published>
    <updated>2018-05-04T04:34:39.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
      <category term="运维" scheme="http://dragon-lab.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title>Virtualbox 虚拟集群搭建</title>
    <link href="http://dragon-lab.github.io/2017/02/07/VBox-Cluster/"/>
    <id>http://dragon-lab.github.io/2017/02/07/VBox-Cluster/</id>
    <published>2017-02-07T02:46:42.000Z</published>
    <updated>2018-05-04T04:34:39.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><h2 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h2><h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><h3 id="gateway"><a href="#gateway" class="headerlink" title="gateway"></a>gateway</h3><p>gateway 用作整个集群内网和外部网络的交互入口，需要设置3块网卡。分别用于：</p><ol><li><p>gateway机器自身访问外网</p><p> <img src="/images/gateway-network0.png" alt=""></p></li><li><p>直接访问gateway，方便登录集群机器</p><p> <img src="/images/gateway-network1.png" alt=""></p></li><li><p>集群内部网络通讯</p><p> <img src="/images/gateway-network2.png" alt=""></p><p> 下面使用<code>nmtui</code>命令，设置主机名和网络。</p></li><li><p>设置主机名<br> <img src="/images/vbox-hostname.png" alt=""></p><p> <img src="/images/vbox-hostname2.png" alt=""></p></li><li><p>激活网卡</p><p> <img src="/images/vbox-active-eth.png" alt=""></p></li><li><p>设置网卡<br> <img src="/images/vbox-setting-enp0s3.png" alt=""></p><p> <img src="/images/vbox-setting-enp0s8.png" alt=""></p><p> <img src="/images/vbox-setting-enp0s9.png" alt=""></p><p> 设置<code>gateway</code>的内网ip地址为<code>10.0.0.1</code></p></li><li><p>系统更新</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum update -y</span><br></pre></td></tr></table></figure><h3 id="SNAT-网关"><a href="#SNAT-网关" class="headerlink" title="SNAT 网关"></a>SNAT 网关</h3><p>禁用<code>firewalld</code>，至于为啥因为我还不会用<code>firewalld</code>。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl status firewalld</span><br><span class="line"></span><br><span class="line">$ systemctl stop firewalld</span><br><span class="line"></span><br><span class="line">$ systemctl <span class="built_in">disable</span> firewalld</span><br></pre></td></tr></table></figure><p>安装 iptables</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y iptables.x86_64 iptables-services.x86_64</span><br><span class="line"></span><br><span class="line">$ systemctl start iptables</span><br><span class="line"></span><br><span class="line">$ systemctl status iptables</span><br></pre></td></tr></table></figure><p>开启ip转发</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">"net.ipv4.ip_forward = 1"</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line"></span><br><span class="line">$ iptables -t nat -A POSTROUTING -s 10.0.0.0/8 -j SNAT --to &lt;gateway ip&gt;</span><br></pre></td></tr></table></figure><p>开放10.0.0.0/8网段访问限制</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -I FORWARD -s 10.0.0.0/8 -j ACCEPT</span><br><span class="line">$ iptables -I FORWARD -d 10.0.0.0/8 -j ACCEPT</span><br></pre></td></tr></table></figure><p>保存重启iptables</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ iptables-save &gt; /etc/sysconfig/iptables</span><br><span class="line"></span><br><span class="line">$ systemctl restart iptables</span><br><span class="line"></span><br><span class="line">$ systemctl status iptables</span><br></pre></td></tr></table></figure><h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><p>安装dnsmasq</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y dnsmasq.x86_64</span><br></pre></td></tr></table></figure><p>使用iptables开放端口</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -I INPUT -p udp -m udp --sport 53 -j ACCEPT</span><br><span class="line">$ iptables -I INPUT -p udp -m udp --dport 53 -j ACCEPT</span><br></pre></td></tr></table></figure><h3 id="yum-repo"><a href="#yum-repo" class="headerlink" title="yum repo"></a>yum repo</h3><h3 id="docker-mirror"><a href="#docker-mirror" class="headerlink" title="docker mirror"></a>docker mirror</h3><h2 id="常用操作优化"><a href="#常用操作优化" class="headerlink" title="常用操作优化"></a>常用操作优化</h2><h3 id="启动集群"><a href="#启动集群" class="headerlink" title="启动集群"></a>启动集群</h3><figure class="highlight bash"><figcaption><span>startvm</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">vms=`VBoxManage list vms | grep <span class="variable">$1</span> | awk <span class="string">'&#123;print $1&#125;'</span>`</span><br><span class="line"><span class="keyword">for</span> vm <span class="keyword">in</span> <span class="variable">$vms</span>; <span class="keyword">do</span></span><br><span class="line">        vm=`<span class="built_in">echo</span> <span class="string">"<span class="variable">$vm</span>"</span> | sed <span class="string">'s/"//g'</span>`</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"<span class="variable">$2</span>"</span> <span class="keyword">in</span></span><br><span class="line">                <span class="string">'console'</span>)</span><br><span class="line">                        VBoxManage startvm <span class="variable">$vm</span></span><br><span class="line">                        ;;</span><br><span class="line">                *)</span><br><span class="line">                        VBoxManage startvm <span class="variable">$vm</span> --<span class="built_in">type</span> headless</span><br><span class="line">                        ;;</span><br><span class="line">        <span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><h3 id="创建集群"><a href="#创建集群" class="headerlink" title="创建集群"></a>创建集群</h3><figure class="highlight bash"><figcaption><span>clonevm</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">name=<span class="variable">$1</span></span><br><span class="line">num=<span class="variable">$2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">"x<span class="variable">$num</span>"</span> != <span class="string">"x"</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> `seq <span class="variable">$num</span>`; <span class="keyword">do</span></span><br><span class="line">        vmname=<span class="string">"node<span class="variable">$i</span>.<span class="variable">$name</span>.serve"</span></span><br><span class="line">        VBoxManage clonevm template --mode all --name <span class="variable">$vmname</span> --register</span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    VBoxManage clonevm template --mode all --name <span class="variable">$name</span> --register</span><br><span class="line">f</span><br></pre></td></tr></table></figure><h3 id="网络设置"><a href="#网络设置" class="headerlink" title="网络设置"></a>网络设置</h3><h2 id="常用工具"><a href="#常用工具" class="headerlink" title="常用工具"></a>常用工具</h2><h3 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h3><p>安装vim</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y vim-enhanced.x86_64</span><br></pre></td></tr></table></figure><p>安装vim需要的依赖</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y git.x86_64 python2-pip.noarch ctags.x86_64</span><br><span class="line"></span><br><span class="line">$ pip install dbgp vim-debug pep8 flake8 pyflakes isort</span><br></pre></td></tr></table></figure><figure class="highlight vim"><figcaption><span>.vimrc</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" Fisa-vim-config</span></span><br><span class="line"><span class="comment">" http://fisadev.github.io/fisa-vim-config/</span></span><br><span class="line"><span class="comment">" version: 8.2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" ============================================================================</span></span><br><span class="line"><span class="comment">" Vim-plug initialization</span></span><br><span class="line"><span class="comment">" Avoid modify this section, unless you are very sure of what you are doing</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> vim_plug_just_installed = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> vim_plug_path = <span class="built_in">expand</span>(<span class="string">'~/.vim/autoload/plug.vim'</span>)</span><br><span class="line"><span class="keyword">if</span> !filereadable(vim_plug_path)</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"Installing Vim-plug..."</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">""</span></span><br><span class="line">    <span class="keyword">silent</span> !mkdir -<span class="keyword">p</span> ~/.<span class="keyword">vim</span>/autoload</span><br><span class="line">    <span class="keyword">silent</span> !curl -fLo ~/.<span class="keyword">vim</span>/autoload/plug.<span class="keyword">vim</span> --create-dirs http<span class="variable">s:</span>//raw.githubusercontent.<span class="keyword">com</span>/junegunn/<span class="keyword">vim</span>-plug/master/plug.<span class="keyword">vim</span></span><br><span class="line">    <span class="keyword">let</span> vim_plug_just_installed = <span class="number">1</span></span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" manually load vim-plug the first time</span></span><br><span class="line"><span class="keyword">if</span> vim_plug_just_installed</span><br><span class="line">    :<span class="keyword">execute</span> <span class="string">'source '</span>.<span class="built_in">fnameescape</span>(vim_plug_path)</span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" Obscure hacks done, you can now modify the rest of the .vimrc as you wish :)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" ============================================================================</span></span><br><span class="line"><span class="comment">" Active plugins</span></span><br><span class="line"><span class="comment">" You can disable or add new ones here:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" this needs to be here, so vim-plug knows we are declaring the plugins we</span></span><br><span class="line"><span class="comment">" want to use</span></span><br><span class="line"><span class="keyword">call</span> plug#begin(<span class="string">'~/.vim/plugged'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">" Plugins from github repos:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" Override configs by directory</span></span><br><span class="line">Plug <span class="string">'arielrossanigo/dir-configs-override.vim'</span></span><br><span class="line"><span class="comment">" Better file browser</span></span><br><span class="line">Plug <span class="string">'scrooloose/nerdtree'</span></span><br><span class="line"><span class="comment">" Code commenter</span></span><br><span class="line">Plug <span class="string">'scrooloose/nerdcommenter'</span></span><br><span class="line"><span class="comment">" Class/module browser</span></span><br><span class="line">Plug <span class="string">'majutsushi/tagbar'</span></span><br><span class="line"><span class="comment">" Code and files fuzzy finder</span></span><br><span class="line">Plug <span class="string">'ctrlpvim/ctrlp.vim'</span></span><br><span class="line"><span class="comment">" Extension to ctrlp, for fuzzy command finder</span></span><br><span class="line">Plug <span class="string">'fisadev/vim-ctrlp-cmdpalette'</span></span><br><span class="line"><span class="comment">" Zen coding</span></span><br><span class="line">Plug <span class="string">'mattn/emmet-vim'</span></span><br><span class="line"><span class="comment">" Git integration</span></span><br><span class="line">Plug <span class="string">'motemen/git-vim'</span></span><br><span class="line"><span class="comment">" Tab list panel</span></span><br><span class="line">Plug <span class="string">'kien/tabman.vim'</span></span><br><span class="line"><span class="comment">" Airline</span></span><br><span class="line">Plug <span class="string">'vim-airline/vim-airline'</span></span><br><span class="line">Plug <span class="string">'vim-airline/vim-airline-themes'</span></span><br><span class="line"><span class="comment">" Terminal Vim with 256 colors colorscheme</span></span><br><span class="line">Plug <span class="string">'fisadev/fisa-vim-colorscheme'</span></span><br><span class="line"><span class="comment">" Consoles as buffers</span></span><br><span class="line">Plug <span class="string">'rosenfeld/conque-term'</span></span><br><span class="line"><span class="comment">" Pending tasks list</span></span><br><span class="line">Plug <span class="string">'fisadev/FixedTaskList.vim'</span></span><br><span class="line"><span class="comment">" Surround</span></span><br><span class="line">Plug <span class="string">'tpope/vim-surround'</span></span><br><span class="line"><span class="comment">" Autoclose</span></span><br><span class="line">Plug <span class="string">'Townk/vim-autoclose'</span></span><br><span class="line"><span class="comment">" Indent text object</span></span><br><span class="line">Plug <span class="string">'michaeljsmith/vim-indent-object'</span></span><br><span class="line"><span class="comment">" Indentation based movements</span></span><br><span class="line">Plug <span class="string">'jeetsukumaran/vim-indentwise'</span></span><br><span class="line"><span class="comment">" Python mode (indentation, doc, refactor, lints, code checking, motion and</span></span><br><span class="line"><span class="comment">" operators, highlighting, run and ipdb breakpoints)</span></span><br><span class="line">Plug <span class="string">'klen/python-mode'</span></span><br><span class="line"><span class="comment">" Better autocompletion</span></span><br><span class="line">Plug <span class="string">'Shougo/neocomplcache.vim'</span></span><br><span class="line"><span class="comment">" Snippets manager (SnipMate), dependencies, and snippets repo</span></span><br><span class="line">Plug <span class="string">'MarcWeber/vim-addon-mw-utils'</span></span><br><span class="line">Plug <span class="string">'tomtom/tlib_vim'</span></span><br><span class="line">Plug <span class="string">'honza/vim-snippets'</span></span><br><span class="line">Plug <span class="string">'garbas/vim-snipmate'</span></span><br><span class="line"><span class="comment">" Git/mercurial/others diff icons on the side of the file lines</span></span><br><span class="line">Plug <span class="string">'mhinz/vim-signify'</span></span><br><span class="line"><span class="comment">" Automatically sort python imports</span></span><br><span class="line">Plug <span class="string">'fisadev/vim-isort'</span></span><br><span class="line"><span class="comment">" Drag visual blocks arround</span></span><br><span class="line">Plug <span class="string">'fisadev/dragvisuals.vim'</span></span><br><span class="line"><span class="comment">" Window chooser</span></span><br><span class="line">Plug <span class="string">'t9md/vim-choosewin'</span></span><br><span class="line"><span class="comment">" Python and other languages code checker</span></span><br><span class="line">Plug <span class="string">'scrooloose/syntastic'</span></span><br><span class="line"><span class="comment">" Paint css colors with the real color</span></span><br><span class="line">Plug <span class="string">'lilydjwg/colorizer'</span></span><br><span class="line"><span class="comment">" Ack code search (requires ack installed in the system)</span></span><br><span class="line">Plug <span class="string">'mileszs/ack.vim'</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">has</span>(<span class="string">'python'</span>)</span><br><span class="line">    <span class="comment">" YAPF formatter for Python</span></span><br><span class="line">    Plug <span class="string">'pignacio/vim-yapf-format'</span></span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"><span class="comment">" Relative numbering of lines (0 is the current line)</span></span><br><span class="line"><span class="comment">" (disabled by default because is very intrusive and can't be easily toggled</span></span><br><span class="line"><span class="comment">" on/off. When the plugin is present, will always activate the relative</span></span><br><span class="line"><span class="comment">" numbering every time you go to normal mode. Author refuses to add a setting</span></span><br><span class="line"><span class="comment">" to avoid that)</span></span><br><span class="line"><span class="comment">" Plug 'myusuf3/numbers.vim'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" Plugins from vim-scripts repos:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" Search results counter</span></span><br><span class="line">Plug <span class="string">'IndexedSearch'</span></span><br><span class="line"><span class="comment">" XML/HTML tags navigation</span></span><br><span class="line">Plug <span class="string">'matchit.zip'</span></span><br><span class="line"><span class="comment">" Gvim colorscheme</span></span><br><span class="line">Plug <span class="string">'Wombat'</span></span><br><span class="line"><span class="comment">" Yank history navigation</span></span><br><span class="line">Plug <span class="string">'YankRing.vim'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" Tell vim-plug we finished declaring plugins, so it can load them</span></span><br><span class="line"><span class="keyword">call</span> plug#end()</span><br><span class="line"></span><br><span class="line"><span class="comment">" ============================================================================</span></span><br><span class="line"><span class="comment">" Install plugins the first time vim runs</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> vim_plug_just_installed</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"Installing Bundles, please ignore key map error messages"</span></span><br><span class="line">    :PlugInstall</span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" ============================================================================</span></span><br><span class="line"><span class="comment">" Vim settings and mappings</span></span><br><span class="line"><span class="comment">" You can edit them as you wish</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" no vi-compatible</span></span><br><span class="line"><span class="keyword">set</span> nocompatible</span><br><span class="line"></span><br><span class="line"><span class="comment">" allow plugins by file type (required for plugins!)</span></span><br><span class="line"><span class="keyword">filetype</span> plugin <span class="keyword">on</span></span><br><span class="line"><span class="keyword">filetype</span> <span class="built_in">indent</span> <span class="keyword">on</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" tabs and spaces handling</span></span><br><span class="line"><span class="keyword">set</span> expandtab</span><br><span class="line"><span class="keyword">set</span> tabstop=<span class="number">4</span></span><br><span class="line"><span class="keyword">set</span> softtabstop=<span class="number">4</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" tab length exceptions on some file types</span></span><br><span class="line"><span class="keyword">autocmd</span> FileType html <span class="keyword">setlocal</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span> tabstop=<span class="number">4</span> softtabstop=<span class="number">4</span></span><br><span class="line"><span class="keyword">autocmd</span> FileType htmldjango <span class="keyword">setlocal</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span> tabstop=<span class="number">4</span> softtabstop=<span class="number">4</span></span><br><span class="line"><span class="keyword">autocmd</span> FileType javascript <span class="keyword">setlocal</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span> tabstop=<span class="number">4</span> softtabstop=<span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" always show status bar</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">ls</span>=<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" incremental search</span></span><br><span class="line"><span class="keyword">set</span> incsearch</span><br><span class="line"><span class="comment">" highlighted search results</span></span><br><span class="line"><span class="keyword">set</span> hlsearch</span><br><span class="line"></span><br><span class="line"><span class="comment">" syntax highlight on</span></span><br><span class="line"><span class="keyword">syntax</span> <span class="keyword">on</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" show line numbers</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">nu</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" tab navigation mappings</span></span><br><span class="line"><span class="keyword">map</span> <span class="keyword">tn</span> :<span class="keyword">tabn</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">map</span> <span class="keyword">tp</span> :<span class="keyword">tabp</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">map</span> <span class="keyword">tm</span> :<span class="keyword">tabm</span></span><br><span class="line"><span class="keyword">map</span> tt :<span class="keyword">tabnew</span></span><br><span class="line"><span class="keyword">map</span> <span class="keyword">ts</span> :<span class="keyword">tab</span> <span class="keyword">split</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;C-S-Right&gt;</span> :<span class="keyword">tabn</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">imap</span> <span class="symbol">&lt;C-S-Right&gt;</span> <span class="symbol">&lt;ESC&gt;</span>:<span class="keyword">tabn</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;C-S-Left&gt;</span> :<span class="keyword">tabp</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">imap</span> <span class="symbol">&lt;C-S-Left&gt;</span> <span class="symbol">&lt;ESC&gt;</span>:<span class="keyword">tabp</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" navigate windows with meta+arrows</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;M-Right&gt;</span> <span class="symbol">&lt;c-w&gt;</span><span class="keyword">l</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;M-Left&gt;</span> <span class="symbol">&lt;c-w&gt;</span>h</span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;M-Up&gt;</span> <span class="symbol">&lt;c-w&gt;</span><span class="keyword">k</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;M-Down&gt;</span> <span class="symbol">&lt;c-w&gt;</span><span class="keyword">j</span></span><br><span class="line"><span class="keyword">imap</span> <span class="symbol">&lt;M-Right&gt;</span> <span class="symbol">&lt;ESC&gt;</span><span class="symbol">&lt;c-w&gt;</span><span class="keyword">l</span></span><br><span class="line"><span class="keyword">imap</span> <span class="symbol">&lt;M-Left&gt;</span> <span class="symbol">&lt;ESC&gt;</span><span class="symbol">&lt;c-w&gt;</span>h</span><br><span class="line"><span class="keyword">imap</span> <span class="symbol">&lt;M-Up&gt;</span> <span class="symbol">&lt;ESC&gt;</span><span class="symbol">&lt;c-w&gt;</span><span class="keyword">k</span></span><br><span class="line"><span class="keyword">imap</span> <span class="symbol">&lt;M-Down&gt;</span> <span class="symbol">&lt;ESC&gt;</span><span class="symbol">&lt;c-w&gt;</span><span class="keyword">j</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" old autocomplete keyboard shortcut</span></span><br><span class="line"><span class="keyword">imap</span> <span class="symbol">&lt;C-J&gt;</span> <span class="symbol">&lt;C-X&gt;</span><span class="symbol">&lt;C-O&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" Comment this line to enable autocompletion preview window</span></span><br><span class="line"><span class="comment">" (displays documentation related to the selected completion option)</span></span><br><span class="line"><span class="comment">" Disabled by default because preview makes the window flicker</span></span><br><span class="line"><span class="keyword">set</span> completeopt-=preview</span><br><span class="line"></span><br><span class="line"><span class="comment">" save as sudo</span></span><br><span class="line"><span class="keyword">ca</span> w!! <span class="keyword">w</span> !sudo tee <span class="string">"%"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" simple recursive grep</span></span><br><span class="line"><span class="keyword">nmap</span> ,r :Ack</span><br><span class="line"><span class="keyword">nmap</span> ,wr :Ack <span class="symbol">&lt;cword&gt;</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" use 256 colors when possible</span></span><br><span class="line"><span class="keyword">if</span> (&amp;term =~? <span class="string">'mlterm\|xterm\|xterm-256\|screen-256'</span>) || <span class="built_in">has</span>(<span class="string">'nvim'</span>)</span><br><span class="line"><span class="keyword">let</span> &amp;t_Co = <span class="number">256</span></span><br><span class="line"><span class="comment">"    colorscheme fisa</span></span><br><span class="line">    <span class="keyword">colorscheme</span> delek</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="keyword">colorscheme</span> delek</span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" colors for gvim</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">has</span>(<span class="string">'gui_running'</span>)</span><br><span class="line">    <span class="keyword">colorscheme</span> wombat</span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" when scrolling, keep cursor 3 lines away from screen border</span></span><br><span class="line"><span class="keyword">set</span> scrolloff=<span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" autocompletion of files and commands behaves like shell</span></span><br><span class="line"><span class="comment">" (complete only the common part, list the options that match)</span></span><br><span class="line"><span class="keyword">set</span> wildmode=lis<span class="variable">t:longest</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" better backup, swap and undos storage</span></span><br><span class="line"><span class="keyword">set</span> directory=~/.<span class="keyword">vim</span>/dirs/tmp     <span class="comment">" directory to place swap files in</span></span><br><span class="line"><span class="keyword">set</span> backup                        <span class="comment">" make backup files</span></span><br><span class="line"><span class="keyword">set</span> backupdir=~/.<span class="keyword">vim</span>/dirs/backups <span class="comment">" where to put backup files</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">undofile</span>                      <span class="comment">" persistent undos - undo after you re-open the file</span></span><br><span class="line"><span class="keyword">set</span> undodir=~/.<span class="keyword">vim</span>/dirs/undos</span><br><span class="line"><span class="keyword">set</span> viminfo+=n~/.<span class="keyword">vim</span>/dirs/viminfo</span><br><span class="line"><span class="comment">" store yankring history file there too</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:yankring_history_dir</span> = <span class="string">'~/.vim/dirs/'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" create needed directories if they don't exist</span></span><br><span class="line"><span class="keyword">if</span> !isdirectory(&amp;backupdir)</span><br><span class="line">    <span class="keyword">call</span> <span class="built_in">mkdir</span>(&amp;backupdir, <span class="string">"p"</span>)</span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"><span class="keyword">if</span> !isdirectory(&amp;directory)</span><br><span class="line">    <span class="keyword">call</span> <span class="built_in">mkdir</span>(&amp;directory, <span class="string">"p"</span>)</span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"><span class="keyword">if</span> !isdirectory(&amp;undodir)</span><br><span class="line">    <span class="keyword">call</span> <span class="built_in">mkdir</span>(&amp;undodir, <span class="string">"p"</span>)</span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" ============================================================================</span></span><br><span class="line"><span class="comment">" Plugins settings and mappings</span></span><br><span class="line"><span class="comment">" Edit them as you wish.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" Tagbar -----------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" toggle tagbar display</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;F4&gt;</span> :TagbarToggle<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">" autofocus on tagbar open</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:tagbar_autofocus</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" NERDTree -----------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" toggle nerdtree display</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;F3&gt;</span> :NERDTreeToggle<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">" open nerdtree with the current file selected</span></span><br><span class="line"><span class="keyword">nmap</span> ,t :NERDTreeFind<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">" don;t show these file types</span></span><br><span class="line"><span class="keyword">let</span> NERDTreeIgnore = [<span class="string">'\.pyc$'</span>, <span class="string">'\.pyo$'</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">" Tasklist ------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" show pending tasks list</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;F2&gt;</span> :TaskList<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" CtrlP ------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" file finder mapping</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:ctrlp_map</span> = <span class="string">',e'</span></span><br><span class="line"><span class="comment">" tags (symbols) in current file finder mapping</span></span><br><span class="line"><span class="keyword">nmap</span> ,g :CtrlPBufTag<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">" tags (symbols) in all files finder mapping</span></span><br><span class="line"><span class="keyword">nmap</span> ,G :CtrlPBufTagAll<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">" general code finder in all files mapping</span></span><br><span class="line"><span class="keyword">nmap</span> ,<span class="keyword">f</span> :CtrlPLine<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">" recent files finder mapping</span></span><br><span class="line"><span class="keyword">nmap</span> ,<span class="keyword">m</span> :CtrlPMRUFiles<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">" commands finder mapping</span></span><br><span class="line"><span class="keyword">nmap</span> ,<span class="keyword">c</span> :CtrlPCmdPalette<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">" to be able to call CtrlP with default search text</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>! <span class="title">CtrlPWithSearchText</span><span class="params">(search_text, ctrlp_command_end)</span></span></span><br><span class="line">    <span class="keyword">execute</span> <span class="string">':CtrlP'</span> . <span class="variable">a:ctrlp_command_end</span></span><br><span class="line">    <span class="keyword">call</span> <span class="built_in">feedkeys</span>(<span class="variable">a:search_text</span>)</span><br><span class="line"><span class="keyword">endfunction</span></span><br><span class="line"><span class="comment">" same as previous mappings, but calling with current word as default text</span></span><br><span class="line"><span class="keyword">nmap</span> ,wg :<span class="keyword">call</span> CtrlPWithSearchText(<span class="built_in">expand</span>(<span class="string">'&lt;cword&gt;'</span>), <span class="string">'BufTag'</span>)<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nmap</span> ,wG :<span class="keyword">call</span> CtrlPWithSearchText(<span class="built_in">expand</span>(<span class="string">'&lt;cword&gt;'</span>), <span class="string">'BufTagAll'</span>)<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nmap</span> ,wf :<span class="keyword">call</span> CtrlPWithSearchText(<span class="built_in">expand</span>(<span class="string">'&lt;cword&gt;'</span>), <span class="string">'Line'</span>)<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nmap</span> ,we :<span class="keyword">call</span> CtrlPWithSearchText(<span class="built_in">expand</span>(<span class="string">'&lt;cword&gt;'</span>), <span class="string">''</span>)<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nmap</span> ,<span class="keyword">pe</span> :<span class="keyword">call</span> CtrlPWithSearchText(<span class="built_in">expand</span>(<span class="string">'&lt;cfile&gt;'</span>), <span class="string">''</span>)<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nmap</span> ,wm :<span class="keyword">call</span> CtrlPWithSearchText(<span class="built_in">expand</span>(<span class="string">'&lt;cword&gt;'</span>), <span class="string">'MRUFiles'</span>)<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nmap</span> ,wc :<span class="keyword">call</span> CtrlPWithSearchText(<span class="built_in">expand</span>(<span class="string">'&lt;cword&gt;'</span>), <span class="string">'CmdPalette'</span>)<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">" don't change working directory</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:ctrlp_working_path_mode</span> = <span class="number">0</span></span><br><span class="line"><span class="comment">" ignore these files and folders on file finder</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:ctrlp_custom_ignore</span> = &#123;</span><br><span class="line">  \ <span class="string">'dir'</span>:  <span class="string">'\v[\/](\.git|\.hg|\.svn|node_modules)$'</span>,</span><br><span class="line">  \ <span class="string">'file'</span>: <span class="string">'\.pyc$\|\.pyo$'</span>,</span><br><span class="line">  \ &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">" Syntastic ------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" show list of errors and warnings on the current file</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;leader&gt;</span><span class="keyword">e</span> :Errors<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">" check also when just opened the file</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_check_on_open</span> = <span class="number">0</span></span><br><span class="line"><span class="comment">" don't put icons on the sign column (it hides the vcs status icons of signify)</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_enable_signs</span> = <span class="number">0</span></span><br><span class="line"><span class="comment">" custom icons (enable them if you use a patched font, and enable the previous</span></span><br><span class="line"><span class="comment">" setting)</span></span><br><span class="line"><span class="comment">"let g:syntastic_error_symbol = '✗'</span></span><br><span class="line"><span class="comment">"let g:syntastic_warning_symbol = '⚠'</span></span><br><span class="line"><span class="comment">"let g:syntastic_style_error_symbol = '✗'</span></span><br><span class="line"><span class="comment">"let g:syntastic_style_warning_symbol = '⚠'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" Python-mode ------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" don't use linter, we use syntastic for that</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:pymode_lint_on_write</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:pymode_lint_signs</span> = <span class="number">0</span></span><br><span class="line"><span class="comment">" don't fold python code on open</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:pymode_folding</span> = <span class="number">0</span></span><br><span class="line"><span class="comment">" don't load rope by default. Change to 1 to use rope</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:pymode_rope</span> = <span class="number">0</span></span><br><span class="line"><span class="comment">" open definitions on same window, and custom mappings for definitions and</span></span><br><span class="line"><span class="comment">" occurrences</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:pymode_rope_goto_definition_bind</span> = <span class="string">',d'</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:pymode_rope_goto_definition_cmd</span> = <span class="string">'e'</span></span><br><span class="line"><span class="keyword">nmap</span> ,D :<span class="keyword">tab</span> <span class="keyword">split</span><span class="symbol">&lt;CR&gt;</span>:PymodePython rope.<span class="keyword">goto</span>()<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nmap</span> ,<span class="keyword">o</span> :RopeFindOccurrences<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" NeoComplCache ------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" most of them not documented because I'm not sure how they work</span></span><br><span class="line"><span class="comment">" (docs aren't good, had to do a lot of trial and error to make</span></span><br><span class="line"><span class="comment">" it play nice)</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:neocomplcache_enable_at_startup</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:neocomplcache_enable_ignore_case</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:neocomplcache_enable_smart_case</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:neocomplcache_enable_auto_select</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:neocomplcache_enable_fuzzy_completion</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:neocomplcache_enable_camel_case_completion</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:neocomplcache_enable_underbar_completion</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:neocomplcache_fuzzy_completion_start_length</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:neocomplcache_auto_completion_start_length</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:neocomplcache_manual_completion_start_length</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:neocomplcache_min_keyword_length</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:neocomplcache_min_syntax_length</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">" complete with workds from any opened file</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:neocomplcache_same_filetype_lists</span> = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:neocomplcache_same_filetype_lists</span>._ = <span class="string">'_'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" TabMan ------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" mappings to toggle display, and to focus on it</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:tabman_toggle</span> = <span class="string">'tl'</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:tabman_focus</span>  = <span class="string">'tf'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" Autoclose ------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" Fix to let ESC work as espected with Autoclose plugin</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:AutoClosePumvisible</span> = &#123;<span class="string">"ENTER"</span>: <span class="string">"\&lt;C-Y&gt;"</span>, <span class="string">"ESC"</span>: <span class="string">"\&lt;ESC&gt;"</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">" DragVisuals ------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" mappings to move blocks in 4 directions</span></span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;expr&gt;</span> <span class="symbol">&lt;S-M-LEFT&gt;</span> DVB_Drag(<span class="string">'left'</span>)</span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;expr&gt;</span> <span class="symbol">&lt;S-M-RIGHT&gt;</span> DVB_Drag(<span class="string">'right'</span>)</span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;expr&gt;</span> <span class="symbol">&lt;S-M-DOWN&gt;</span> DVB_Drag(<span class="string">'down'</span>)</span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;expr&gt;</span> <span class="symbol">&lt;S-M-UP&gt;</span> DVB_Drag(<span class="string">'up'</span>)</span><br><span class="line"><span class="comment">" mapping to duplicate block</span></span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;expr&gt;</span> D DVB_Duplicate()</span><br><span class="line"></span><br><span class="line"><span class="comment">" Signify ------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" this first setting decides in which order try to guess your current vcs</span></span><br><span class="line"><span class="comment">" UPDATE it to reflect your preferences, it will speed up opening files</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:signify_vcs_list</span> = [ <span class="string">'git'</span>, <span class="string">'hg'</span> ]</span><br><span class="line"><span class="comment">" mappings to jump to changed blocks</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;leader&gt;</span><span class="keyword">sn</span> <span class="symbol">&lt;plug&gt;</span>(signify-<span class="keyword">next</span>-hunk)</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;leader&gt;</span><span class="keyword">sp</span> <span class="symbol">&lt;plug&gt;</span>(signify-<span class="keyword">prev</span>-hunk)</span><br><span class="line"><span class="comment">" nicer colors</span></span><br><span class="line"><span class="keyword">highlight</span> DiffAdd           cterm=bold ctermbg=none ctermfg=<span class="number">119</span></span><br><span class="line"><span class="keyword">highlight</span> DiffDelete        cterm=bold ctermbg=none ctermfg=<span class="number">167</span></span><br><span class="line"><span class="keyword">highlight</span> DiffChange        cterm=bold ctermbg=none ctermfg=<span class="number">227</span></span><br><span class="line"><span class="keyword">highlight</span> SignifySignAdd    cterm=bold ctermbg=<span class="number">237</span>  ctermfg=<span class="number">119</span></span><br><span class="line"><span class="keyword">highlight</span> SignifySignDelete cterm=bold ctermbg=<span class="number">237</span>  ctermfg=<span class="number">167</span></span><br><span class="line"><span class="keyword">highlight</span> SignifySignChange cterm=bold ctermbg=<span class="number">237</span>  ctermfg=<span class="number">227</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" Window Chooser ------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" mapping</span></span><br><span class="line"><span class="keyword">nmap</span>  -  <span class="symbol">&lt;Plug&gt;</span>(choosewin)</span><br><span class="line"><span class="comment">" show big letters</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:choosewin_overlay_enable</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" Airline ------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_powerline_fonts</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_theme</span> = <span class="string">'bubblegum'</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline</span>#extensions#whitespace#enabled = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">" to use fancy symbols for airline, uncomment the following lines and use a</span></span><br><span class="line"><span class="comment">" patched font (more info on the README.rst)</span></span><br><span class="line"><span class="comment">"if !exists('g:airline_symbols')</span></span><br><span class="line"><span class="comment">"   let g:airline_symbols = &#123;&#125;</span></span><br><span class="line"><span class="comment">"endif</span></span><br><span class="line"><span class="comment">"let g:airline_left_sep = '⮀'</span></span><br><span class="line"><span class="comment">"let g:airline_left_alt_sep = '⮁'</span></span><br><span class="line"><span class="comment">"let g:airline_right_sep = '⮂'</span></span><br><span class="line"><span class="comment">"let g:airline_right_alt_sep = '⮃'</span></span><br><span class="line"><span class="comment">"let g:airline_symbols.branch = '⭠'</span></span><br><span class="line"><span class="comment">"let g:airline_symbols.readonly = '⭤'</span></span><br><span class="line"><span class="comment">"let g:airline_symbols.linenr = '⭡'</span></span><br></pre></td></tr></table></figure><p>安装vim插件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ vim +BundleClean +BundleInstall! +qa</span><br><span class="line">$ chown <span class="variable">$USER</span> ~/.vim/</span><br></pre></td></tr></table></figure></p><h3 id="zsh"><a href="#zsh" class="headerlink" title="zsh"></a>zsh</h3><p>安装zsh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y zsh.x86_64</span><br></pre></td></tr></table></figure><p>配置zsh<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sh -c <span class="string">"<span class="variable">$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>"</span></span><br></pre></td></tr></table></figure></p><h3 id="tmux"><a href="#tmux" class="headerlink" title="tmux"></a>tmux</h3><p>安装tmux</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install tmux.x86_64</span><br></pre></td></tr></table></figure><figure class="highlight bash"><figcaption><span>.tmux.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">unbind C-b</span><br><span class="line"><span class="built_in">set</span> -g prefix `</span><br><span class="line"></span><br><span class="line"><span class="built_in">bind</span>-key ` send-keys `</span><br><span class="line"></span><br><span class="line">setw -g mode-keys vi</span><br><span class="line"></span><br><span class="line"><span class="built_in">bind</span>-key k select-pane -U</span><br><span class="line"><span class="built_in">bind</span>-key j select-pane -D</span><br><span class="line"><span class="built_in">bind</span>-key h select-pane -L</span><br><span class="line"><span class="built_in">bind</span>-key l select-pane -R</span><br><span class="line"></span><br><span class="line"><span class="built_in">bind</span>-key K resize-pane -U 5</span><br><span class="line"><span class="built_in">bind</span>-key J resize-pane -D 5</span><br><span class="line"><span class="built_in">bind</span>-key H resize-pane -L 10</span><br><span class="line"><span class="built_in">bind</span>-key L resize-pane -R 10</span><br><span class="line"></span><br><span class="line"><span class="built_in">bind</span>-key - splitw -v -c <span class="string">'#&#123;pane_current_path&#125;'</span></span><br><span class="line"><span class="built_in">bind</span>-key \ splitw -h -c <span class="string">'#&#123;pane_current_path&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> -g default-terminal <span class="string">"screen-256color"</span></span><br><span class="line"><span class="built_in">set</span> -g status-bg black</span><br><span class="line"><span class="built_in">set</span> -g status-fg green</span><br><span class="line">setw -g window-status-current-attr bright</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> -g pane-active-border-fg cyan</span><br><span class="line"><span class="built_in">set</span> -g pane-border-fg green</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> -g base-index 1</span><br><span class="line">setw -g pane-base-index 1</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> -g status-interval 1</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>-option -g automatic-rename on</span><br><span class="line"><span class="built_in">set</span>-option -g status-justify centre</span><br><span class="line"><span class="built_in">set</span>-option -g status-left <span class="string">'#[bg=black,fg=green][#[fg=cyan]#S#[fg=green]]'</span></span><br><span class="line"><span class="built_in">set</span>-option -g status-left-length 30</span><br><span class="line"><span class="built_in">set</span>-option -g status-right <span class="string">'#[fg=green][#[fg=cyan]%H:%M:%S#[fg=green]]'</span></span><br><span class="line"></span><br><span class="line">setw -g monitor-activity on</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>-window-option -g mode-keys vi</span><br><span class="line"></span><br><span class="line"><span class="built_in">bind</span> r <span class="built_in">source</span>-file ~/.tmux.conf \; display <span class="string">"Configuration Reload"</span></span><br></pre></td></tr></table></figure><h3 id="ansible"><a href="#ansible" class="headerlink" title="ansible"></a>ansible</h3><p>非常好用的集群管理工具，详情参考另一篇博文<a href="/2017/02/07/Learning-Ansible/">《Ansible 学习之路》</a></p><p>cd /etc/yum.repos.d<br>wget <a href="http://download.virtualbox.org/virtualbox/rpm/rhel/virtualbox.repo" target="_blank" rel="noopener">http://download.virtualbox.org/virtualbox/rpm/rhel/virtualbox.repo</a></p><p>解决phpvirtualbox Error logging in to vboxwebsrv<br>VBoxManage setproperty vrdeauthlibrary “VBoxAuthSimple”</p><p>/etc/vbox/vbox.cfg</p><p>VBOXWEB_HOST=0.0.0.0<br>VBOXWEB_PORT=18083</p><p>VBOXWEB_LOGFILE<br>VBOXWEB_LOGSIZE<br>VBOXWEB_LOGINTERVAL</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;需求&quot;&gt;&lt;a href=&quot;#需求&quot; class=&quot;headerlink&quot; title=&quot;需求&quot;&gt;&lt;/a&gt;需求&lt;/h2&gt;&lt;h2 id=&quot;环境说明&quot;&gt;&lt;a href=&quot;#环境说明&quot; class=&quot;headerlink&quot; title=&quot;环境说明&quot;&gt;&lt;/a&gt;环境说明&lt;/h
      
    
    </summary>
    
    
      <category term="架构" scheme="http://dragon-lab.github.io/tags/%E6%9E%B6%E6%9E%84/"/>
    
      <category term="运维" scheme="http://dragon-lab.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title>IM服务器架构的一些经验</title>
    <link href="http://dragon-lab.github.io/2017/02/04/IM-Server-Architecture/"/>
    <id>http://dragon-lab.github.io/2017/02/04/IM-Server-Architecture/</id>
    <published>2017-02-04T09:15:25.000Z</published>
    <updated>2018-05-04T04:34:39.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
      <category term="架构" scheme="http://dragon-lab.github.io/tags/%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>Mysql数据库优化的一些思路</title>
    <link href="http://dragon-lab.github.io/2017/02/04/Mysql-Database-Optimization/"/>
    <id>http://dragon-lab.github.io/2017/02/04/Mysql-Database-Optimization/</id>
    <published>2017-02-04T09:14:39.000Z</published>
    <updated>2018-05-04T04:34:39.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
      <category term="数据库" scheme="http://dragon-lab.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>Tensorflow 学习之路</title>
    <link href="http://dragon-lab.github.io/2017/02/04/Learning-Tensorflow/"/>
    <id>http://dragon-lab.github.io/2017/02/04/Learning-Tensorflow/</id>
    <published>2017-02-04T02:47:11.000Z</published>
    <updated>2018-05-04T04:34:39.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Tensorflow-示例"><a href="#Tensorflow-示例" class="headerlink" title="Tensorflow 示例"></a>Tensorflow 示例</h2><p>收集了一些Tensorflow可以做的一些有意思的事情：</p><ol><li><p>图像风格转换,生成各种有意思的图</p><p> <a href="https://github.com/anishathalye/neural-style" target="_blank" rel="noopener">https://github.com/anishathalye/neural-style</a><br> <a href="https://github.com/fzliu/style-transfer" target="_blank" rel="noopener">https://github.com/fzliu/style-transfer</a></p></li><li><p>给素描黑白画，自动上色<br><a href="https://github.com/pfnet/PaintsChainer" target="_blank" rel="noopener">https://github.com/pfnet/PaintsChainer</a></p></li><li><p>生成古诗词：基于RNN生成古诗词<br><a href="http://blog.topspeedsnail.com/archives/10542" target="_blank" rel="noopener">http://blog.topspeedsnail.com/archives/10542</a></p></li><li><p>结合RL玩游戏的，愤怒的小鸟，超级马里奥<br><a href="https://github.com/yenchenlin/DeepLearningFlappyBird" target="_blank" rel="noopener">https://github.com/yenchenlin/DeepLearningFlappyBird</a></p></li><li><p>用TensorFlow实现MarioKart游戏自动驾驶<br><a href="https://github.com/kevinhughes27/TensorKart" target="_blank" rel="noopener">https://github.com/kevinhughes27/TensorKart</a></p></li><li><p>Udacity自驾模拟项目Nanodegree<br><a href="https://github.com/upul/behavioral_cloning" target="_blank" rel="noopener">https://github.com/upul/behavioral_cloning</a></p></li></ol><h2 id="Tensorflow-资料"><a href="#Tensorflow-资料" class="headerlink" title="Tensorflow 资料"></a>Tensorflow 资料</h2><ol><li>Tensorflow从入门到精通<br><a href="https://github.com/aymericdamien/TensorFlow-Examples" target="_blank" rel="noopener">https://github.com/aymericdamien/TensorFlow-Examples</a></li></ol><h2 id="Tensorflow-安装"><a href="#Tensorflow-安装" class="headerlink" title="Tensorflow 安装"></a>Tensorflow 安装</h2><h3 id="源代码安装"><a href="#源代码安装" class="headerlink" title="源代码安装"></a>源代码安装</h3><h4 id="获取源代码"><a href="#获取源代码" class="headerlink" title="获取源代码"></a>获取源代码</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/tensorflow/tensorflow</span><br></pre></td></tr></table></figure><h4 id="准备安装环境"><a href="#准备安装环境" class="headerlink" title="准备安装环境"></a>准备安装环境</h4><p>在Mac上安装bazel，建议使用<a href="http://brew.sh/" target="_blank" rel="noopener">homebrew</a>安装依赖</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew install bazel</span><br></pre></td></tr></table></figure><p>可以使用easy_install或pip安装python依赖，如果使用easy_install运行下面的命令:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo easy_install -U six</span><br><span class="line">$ sudo easy_install -U numpy</span><br><span class="line">$ sudo easy_install wheel</span><br></pre></td></tr></table></figure></p><p>推荐使用<a href="https://ipython.org/" target="_blank" rel="noopener">ipython</a>，运行下面的命令安装：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo easy_install ipython</span><br></pre></td></tr></table></figure></p><h4 id="配置安装"><a href="#配置安装" class="headerlink" title="配置安装"></a>配置安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ ./configure</span><br><span class="line">Please specify the location of python. [Default is /usr/<span class="built_in">local</span>/bin/python]:</span><br><span class="line">Please specify optimization flags to use during compilation when bazel option <span class="string">"--config=opt"</span> is specified [Default is -march=native]:</span><br><span class="line">Do you wish to build TensorFlow with Google Cloud Platform support? [y/N]</span><br><span class="line">No Google Cloud Platform support will be enabled <span class="keyword">for</span> TensorFlow</span><br><span class="line">Do you wish to build TensorFlow with Hadoop File System support? [y/N]</span><br><span class="line">No Hadoop File System support will be enabled <span class="keyword">for</span> TensorFlow</span><br><span class="line">Do you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N]</span><br><span class="line">No XLA support will be enabled <span class="keyword">for</span> TensorFlow</span><br><span class="line">Found possible Python library paths:</span><br><span class="line">  /usr/<span class="built_in">local</span>/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages</span><br><span class="line">  /Library/Python/2.7/site-packages</span><br><span class="line">Please input the desired Python library path to use.  Default is [/usr/<span class="built_in">local</span>/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages]</span><br><span class="line"></span><br><span class="line">Using python library path: /usr/<span class="built_in">local</span>/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages</span><br><span class="line">Do you wish to build TensorFlow with OpenCL support? [y/N]</span><br><span class="line">No OpenCL support will be enabled <span class="keyword">for</span> TensorFlow</span><br><span class="line">Do you wish to build TensorFlow with CUDA support? [y/N]</span><br><span class="line">No CUDA support will be enabled <span class="keyword">for</span> TensorFlow</span><br><span class="line">Configuration finished</span><br><span class="line">INFO: Starting clean (this may take a <span class="keyword">while</span>). Consider using --expunge_async <span class="keyword">if</span> the clean takes more than several minutes.</span><br><span class="line">..........</span><br><span class="line">INFO: All external dependencies fetched successfully.</span><br></pre></td></tr></table></figure><h4 id="编译安装"><a href="#编译安装" class="headerlink" title="编译安装"></a>编译安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ bazel build -c opt //tensorflow/tools/pip_package:build_pip_package</span><br><span class="line"></span><br><span class="line">$ bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg</span><br><span class="line"></span><br><span class="line"><span class="comment"># The name of the .whl file will depend on your platform.</span></span><br><span class="line">$ pip install /tmp/tensorflow_pkg/tensorflow-0.12.1-cp27-cp27m-macosx_10_11_x86_64.whl</span><br></pre></td></tr></table></figure><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hello = tf.constant(<span class="string">'Hello, TensorFlow!'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sess = tf.Session()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sess.run(hello)</span><br><span class="line">Hello, TensorFlow!</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = tf.constant(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = tf.constant(<span class="number">32</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sess.run(a+b)</span><br><span class="line"><span class="number">42</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure><h2 id="Tensorflow-体验"><a href="#Tensorflow-体验" class="headerlink" title="Tensorflow 体验"></a>Tensorflow 体验</h2><h3 id="neural-style"><a href="#neural-style" class="headerlink" title="neural-style"></a>neural-style</h3><h4 id="下载源代码"><a href="#下载源代码" class="headerlink" title="下载源代码"></a>下载源代码</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/anishathalye/neural-style.git</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cd</span> neural-style</span><br></pre></td></tr></table></figure><h4 id="下载训练集"><a href="#下载训练集" class="headerlink" title="下载训练集"></a>下载训练集</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -O http://www.vlfeat.org/matconvnet/models/beta16/imagenet-vgg-verydeep-19.mat</span><br></pre></td></tr></table></figure><h4 id="安装Python依赖"><a href="#安装Python依赖" class="headerlink" title="安装Python依赖"></a>安装Python依赖</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ pip install numpy</span><br><span class="line">$ pip install scipy</span><br><span class="line">$ pip install pillow</span><br></pre></td></tr></table></figure><h4 id="运行应用"><a href="#运行应用" class="headerlink" title="运行应用"></a>运行应用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python neural_style.py --content examples/1-content.jpg --styles examples/1-style.jpg --output output.jpg --iterations 1000</span><br></pre></td></tr></table></figure><p>运行太慢的话，可以考虑缩小图片大小，或者升级机器配置。</p><h4 id="查看结果"><a href="#查看结果" class="headerlink" title="查看结果"></a>查看结果</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/hhkb-keyboard.jpg" alt="原图" title="">                </div>                <div class="image-caption">原图</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/1-style.jpg" alt="样式图" title="">                </div>                <div class="image-caption">样式图</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/hhkb-output.jpg" alt="结果图" title="">                </div>                <div class="image-caption">结果图</div>            </figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Tensorflow-示例&quot;&gt;&lt;a href=&quot;#Tensorflow-示例&quot; class=&quot;headerlink&quot; title=&quot;Tensorflow 示例&quot;&gt;&lt;/a&gt;Tensorflow 示例&lt;/h2&gt;&lt;p&gt;收集了一些Tensorflow可以做的一些有意思的事
      
    
    </summary>
    
    
      <category term="机器学习" scheme="http://dragon-lab.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>软件架构模式</title>
    <link href="http://dragon-lab.github.io/2017/02/03/software-architecture/"/>
    <id>http://dragon-lab.github.io/2017/02/03/software-architecture/</id>
    <published>2017-02-03T04:19:03.000Z</published>
    <updated>2018-05-04T04:34:39.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://www.oreilly.com/programming/free/files/software-architecture-patterns.pdf" target="_blank" rel="noopener">软件架构模式</a></p><h2 id="分层架构"><a href="#分层架构" class="headerlink" title="分层架构"></a>分层架构</h2><h2 id="事件驱动架构"><a href="#事件驱动架构" class="headerlink" title="事件驱动架构"></a>事件驱动架构</h2><h2 id="微内核架构"><a href="#微内核架构" class="headerlink" title="微内核架构"></a>微内核架构</h2><p>OSGI</p><h2 id="微服务架构"><a href="#微服务架构" class="headerlink" title="微服务架构"></a>微服务架构</h2><h2 id="云平台架构"><a href="#云平台架构" class="headerlink" title="云平台架构"></a>云平台架构</h2><p><a href="/2017/02/03/Base-Architecture/">集成开发平台架构</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;http://www.oreilly.com/programming/free/files/software-architecture-patterns.pdf&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;软件架构模式&lt;/a&gt;&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="架构" scheme="http://dragon-lab.github.io/tags/%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>Linux系统开发学习</title>
    <link href="http://dragon-lab.github.io/2017/02/03/Unix-Development/"/>
    <id>http://dragon-lab.github.io/2017/02/03/Unix-Development/</id>
    <published>2017-02-03T03:51:48.000Z</published>
    <updated>2018-05-04T04:34:39.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><p>centos 7 下安装开发环境，运行下面的命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum groupinstall -y <span class="string">"Development Tools"</span></span><br></pre></td></tr></table></figure><h2 id="工具学习"><a href="#工具学习" class="headerlink" title="工具学习"></a>工具学习</h2><h3 id="GDB"><a href="#GDB" class="headerlink" title="GDB"></a>GDB</h3><p>编译程序加上<code>-g</code>选项，这样编译出的可执行程序中包含调试信息，否则之后GDB无法载入可执行文件中对应的代码信息。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -g test.c -o <span class="built_in">test</span></span><br></pre></td></tr></table></figure><p>启动gdb进行调试</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ gdb <span class="built_in">test</span></span><br><span class="line">GNU gdb (GDB) Red Hat Enterprise Linux 7.6.1-94.el7</span><br><span class="line">Copyright (C) 2013 Free Software Foundation, Inc.</span><br><span class="line">License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.  Type <span class="string">"show copying"</span></span><br><span class="line">and <span class="string">"show warranty"</span> <span class="keyword">for</span> details.</span><br><span class="line">This GDB was configured as <span class="string">"x86_64-redhat-linux-gnu"</span>.</span><br><span class="line">For bug reporting instructions, please see:</span><br><span class="line">&lt;http://www.gnu.org/software/gdb/bugs/&gt;...</span><br><span class="line">Reading symbols from /root/chapter03/test...done.</span><br><span class="line">(gdb)</span><br></pre></td></tr></table></figure><p>查看文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(Gdb) l</span><br></pre></td></tr></table></figure><p>设置断点</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(gdb) b 6</span><br><span class="line">Breakpoint 1 at 0x400585: file test.c, line 6.</span><br></pre></td></tr></table></figure><p>需要注意的时，代码并没有运行第6行，而是在运行第6行之前就停止了。</p><p>查看断点情况</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(gdb) info b</span><br><span class="line">Num     Type           Disp Enb Address            What</span><br><span class="line">1       breakpoint     keep y   0x0000000000400585 <span class="keyword">in</span> main at test.c:6</span><br></pre></td></tr></table></figure><p>运行代码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(gdb) r</span><br><span class="line">Starting program: /root/chapter03/<span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">Breakpoint 1, main () at test.c:6</span><br><span class="line">6    int i, n = 0;</span><br><span class="line">Missing separate debuginfos , use: debuginfo-install glibc-2.17-157.el7_3.1.x86_64</span><br></pre></td></tr></table></figure><p>查看变量值</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(gdb) p n</span><br><span class="line"><span class="variable">$1</span> = 0</span><br></pre></td></tr></table></figure><p>单步运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(gdb) n</span><br><span class="line">8    ret = sum(50);</span><br></pre></td></tr></table></figure><p>恢复程序运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(gdb) c</span><br><span class="line">Continuing.</span><br><span class="line">The sum of 1-m is 50</span><br><span class="line">The sum of 1-50 is 50</span><br><span class="line">[Inferior 1 (process 21754) exited normally]</span><br></pre></td></tr></table></figure><p>程序在运行完后退出，之后程序处于“停止状态”</p><h3 id="Makefile"><a href="#Makefile" class="headerlink" title="Makefile"></a>Makefile</h3><h2 id="链接库"><a href="#链接库" class="headerlink" title="链接库"></a>链接库</h2><p>在创建函数库之前，先准备下示例代码</p><figure class="highlight c"><figcaption><span>hello.h</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hello</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *name)</span></span>;</span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span>hello.c</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hello</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *name)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Hello %s!\n"</span>, name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span>main.c</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"hello.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    hello(<span class="string">"everyone"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>将<code>hello.c</code>编译成<code>hello.o</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -c hello.c</span><br><span class="line"></span><br><span class="line">$ ls</span><br><span class="line">hello.c  hello.h  hello.o  main.c</span><br></pre></td></tr></table></figure><h3 id="静态库"><a href="#静态库" class="headerlink" title="静态库"></a>静态库</h3><p>由<code>hello.o</code>创建静态库</p><p>静态库的命名规范是以lib为前缀，紧接着跟静态库名，扩展名为<code>.a</code>。例如，将创建的静态库名为<code>myhello</code>，则静态库文件名就是<code>libmyhello.a</code>。</p><p>使用<code>ar</code>命令创建静态库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ar crv libmyhello.a hello.o</span><br><span class="line"></span><br><span class="line">$ ls</span><br><span class="line">hello.c  hello.h  hello.o  libmyhello.a  main.c</span><br></pre></td></tr></table></figure><p>在程序中使用静态库时，需要引入源程序中包含的公共函数。例如在<code>main.c</code>中<code>#include &quot;hello.h&quot;</code>。</p><p>注意：gcc会在静态库名前加上前缀lib，然后用追加扩展名.a，得到的静态库文件名来查找静态文件。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -o hello main.c -L. -lmyhello</span><br><span class="line"></span><br><span class="line">$ ls</span><br><span class="line">hello  hello.c  hello.h  hello.o  libmyhello.a  main.c</span><br><span class="line"></span><br><span class="line">$ ./hello</span><br><span class="line">Hello everyone</span><br><span class="line"></span><br><span class="line">$ gcc main.c libmyhello.a -o main</span><br><span class="line">hello  hello.c  hello.h  hello.o  libmyhello.a  main  main.c</span><br><span class="line"></span><br><span class="line">$ ./main</span><br><span class="line">Hello everyone</span><br></pre></td></tr></table></figure><p>删除静态库文件测试公共函数hello是否真的连接到目标文件hello中了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ rm libmyhello.a</span><br><span class="line"></span><br><span class="line">$ ls</span><br><span class="line">hello  hello.c  hello.h  hello.o  main  main.c</span><br><span class="line"></span><br><span class="line">$ ./hello</span><br><span class="line">Hello everyone</span><br></pre></td></tr></table></figure><p>程序正常运行，可见静态库中使用的函数已经连接到目标文件中了。</p><h3 id="动态库"><a href="#动态库" class="headerlink" title="动态库"></a>动态库</h3><p>在创建动态链接库之前把前面生成的文件先删除掉，避免混淆。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ls</span><br><span class="line">hello.c  hello.h  main.c</span><br></pre></td></tr></table></figure><p>动态库文件名命名规范和静态库文件名命名规范累死，也是在动态库名增加前缀<code>lib</code>，但其文件扩展名为<code>.so</code>。例如将创建的动态库名为<code>myhello</code>，则动态库文件名就是<code>libmyhello.so</code>。</p><p>使用gcc创建动态库，输入一下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ gcc hello.c -shared -fPIC -o libmyhello.so</span><br><span class="line"></span><br><span class="line">$ ls</span><br><span class="line">hello.c  hello.h  hello.o  libmyhello.so  main.c</span><br></pre></td></tr></table></figure><p>在程序中使用动态库，使用下面的命令进行编译</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -o hello main.c -L. -lmyhello</span><br><span class="line"></span><br><span class="line">$ ./hello</span><br><span class="line">./hello: error <span class="keyword">while</span> loading shared libraries: libmyhello.so: cannot open shared object file: No such file or directory</span><br></pre></td></tr></table></figure><p>程序运行出错，提示找不到<code>libmyhello.so</code>。程序运行时，会在 <code>/usr/lib</code> 和 <code>/lib</code> 等目录中查找需要的动态库文件。 若找到则载入动态库，否则提示类似上述错误而终止程序运行。 将文件 <code>libmyhello.so</code> 复制到目录 <code>/usr/lib</code> 中再试试。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ cp libmyhello.so /usr/lib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果是x64系统则复制到 /usr/lib64 下</span></span><br><span class="line">$ cp libmyhello.so /usr/lib64</span><br><span class="line"></span><br><span class="line">$ ./hello</span><br><span class="line">Hello everyone</span><br></pre></td></tr></table></figure><p>程序运行成功，说明了动态库在程序运行时是需要的。</p><p>当静态库和动态库同时存在时，程序优先使用动态库。</p><h2 id="内存管理"><a href="#内存管理" class="headerlink" title="内存管理"></a>内存管理</h2><h3 id="malloc"><a href="#malloc" class="headerlink" title="malloc"></a>malloc</h3><p>From system</p><h3 id="ptmalloc"><a href="#ptmalloc" class="headerlink" title="ptmalloc"></a>ptmalloc</h3><p>From glibc</p><h3 id="tcmalloc"><a href="#tcmalloc" class="headerlink" title="tcmalloc"></a>tcmalloc</h3><p>From Google</p><h3 id="jemalloc"><a href="#jemalloc" class="headerlink" title="jemalloc"></a>jemalloc</h3><p>From Google</p><h2 id="文件I-O"><a href="#文件I-O" class="headerlink" title="文件I/O"></a>文件I/O</h2><h2 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h2><h2 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h2><h2 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h2><h2 id="信号"><a href="#信号" class="headerlink" title="信号"></a>信号</h2><h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;环境搭建&quot;&gt;&lt;a href=&quot;#环境搭建&quot; class=&quot;headerlink&quot; title=&quot;环境搭建&quot;&gt;&lt;/a&gt;环境搭建&lt;/h2&gt;&lt;p&gt;centos 7 下安装开发环境，运行下面的命令&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;t
      
    
    </summary>
    
    
      <category term="Linux" scheme="http://dragon-lab.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>集成开发平台架构</title>
    <link href="http://dragon-lab.github.io/2017/02/03/Base-Architecture/"/>
    <id>http://dragon-lab.github.io/2017/02/03/Base-Architecture/</id>
    <published>2017-02-03T02:47:34.000Z</published>
    <updated>2018-05-04T04:34:39.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><h2 id="存储篇"><a href="#存储篇" class="headerlink" title="存储篇"></a>存储篇</h2><h3 id="Glusterfs"><a href="#Glusterfs" class="headerlink" title="Glusterfs"></a>Glusterfs</h3><h3 id="Ceph"><a href="#Ceph" class="headerlink" title="Ceph"></a>Ceph</h3><h2 id="集群运维篇"><a href="#集群运维篇" class="headerlink" title="集群运维篇"></a>集群运维篇</h2><h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><h3 id="Kubernetes"><a href="#Kubernetes" class="headerlink" title="Kubernetes"></a>Kubernetes</h3><h3 id="Openshift"><a href="#Openshift" class="headerlink" title="Openshift"></a>Openshift</h3><h3 id="Helm"><a href="#Helm" class="headerlink" title="Helm"></a>Helm</h3><h2 id="负载均衡篇"><a href="#负载均衡篇" class="headerlink" title="负载均衡篇"></a>负载均衡篇</h2><h3 id="Nginx-Ingress"><a href="#Nginx-Ingress" class="headerlink" title="Nginx Ingress"></a>Nginx Ingress</h3><h3 id="Rancher-Ingress"><a href="#Rancher-Ingress" class="headerlink" title="Rancher Ingress"></a>Rancher Ingress</h3><p><a href="https://github.com/rancher/lb-controller" target="_blank" rel="noopener">https://github.com/rancher/lb-controller</a></p><h2 id="日志收集篇"><a href="#日志收集篇" class="headerlink" title="日志收集篇"></a>日志收集篇</h2><h2 id="系统监控篇"><a href="#系统监控篇" class="headerlink" title="系统监控篇"></a>系统监控篇</h2><h3 id="Netsil"><a href="#Netsil" class="headerlink" title="Netsil"></a>Netsil</h3><h2 id="持续集成篇"><a href="#持续集成篇" class="headerlink" title="持续集成篇"></a>持续集成篇</h2><h3 id="Fabric8"><a href="#Fabric8" class="headerlink" title="Fabric8"></a>Fabric8</h3><h3 id="Apache-Camel"><a href="#Apache-Camel" class="headerlink" title="Apache Camel"></a>Apache Camel</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;需求&quot;&gt;&lt;a href=&quot;#需求&quot; class=&quot;headerlink&quot; title=&quot;需求&quot;&gt;&lt;/a&gt;需求&lt;/h2&gt;&lt;h2 id=&quot;存储篇&quot;&gt;&lt;a href=&quot;#存储篇&quot; class=&quot;headerlink&quot; title=&quot;存储篇&quot;&gt;&lt;/a&gt;存储篇&lt;/h2&gt;&lt;h
      
    
    </summary>
    
    
      <category term="架构" scheme="http://dragon-lab.github.io/tags/%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>组建自己的工作站</title>
    <link href="http://dragon-lab.github.io/2017/02/03/Workstation/"/>
    <id>http://dragon-lab.github.io/2017/02/03/Workstation/</id>
    <published>2017-02-03T02:38:12.000Z</published>
    <updated>2018-05-04T04:34:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>苹果的<code>Macbook Pro</code>的<code>8g</code>内存（2016年发布会也没有推出32g版）运行一些需要集群环境的程序比较吃力，例如<code>Spark</code>、<code>Openshift</code>、<code>Fabric8</code>。调研了下配置较高的云服务器价格又略贵，所以萌生了自己组装一台工作站的想法。</p><h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><ol><li>内存64g，且易于扩展</li><li>CPU 核心多，可以跑虚拟机模拟集群环境。</li><li>可以黑苹果，个人比较习惯Mac系统</li><li>PCI-E x16 接口丰富</li></ol><h2 id="硬件环境"><a href="#硬件环境" class="headerlink" title="硬件环境"></a>硬件环境</h2><table><thead><tr><th>项目</th><th>名称</th></tr></thead><tbody><tr><td>CPU</td><td>Xeon E5 2683 v3 * 2</td></tr><tr><td>主板</td><td>Intel S2600CW2R</td></tr><tr><td>内存</td><td>三星 DDR4 ECC 32g * 2</td></tr><tr><td>显卡</td><td>Asus R9 270</td></tr><tr><td>网卡</td><td>TP-LINK TL-WDN4800</td></tr><tr><td>电源</td><td>海韵（Seasonic）额定620W M12II-620 电源</td></tr><tr><td>机箱</td><td>银欣乌鸦3</td></tr><tr><td>散热器</td><td>九州风神大霜塔 * 2</td></tr><tr><td>键盘</td><td>HHKB PRO2</td></tr><tr><td>硬盘</td><td>SSD 128g + 4TB 黑盘</td></tr></tbody></table><h3 id="电源"><a href="#电源" class="headerlink" title="电源"></a>电源</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/power-1.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/power-2.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/power-3.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h3 id="CPU"><a href="#CPU" class="headerlink" title="CPU"></a>CPU</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/cpu01.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h3 id="内存"><a href="#内存" class="headerlink" title="内存"></a>内存</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/memory.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h3 id="主板"><a href="#主板" class="headerlink" title="主板"></a>主板</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/board01.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/board02.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h3 id="显卡"><a href="#显卡" class="headerlink" title="显卡"></a>显卡</h3><h3 id="机箱"><a href="#机箱" class="headerlink" title="机箱"></a>机箱</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/crate01.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/crate02.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h3 id="散热器"><a href="#散热器" class="headerlink" title="散热器"></a>散热器</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/radiator.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h3 id="键盘"><a href="#键盘" class="headerlink" title="键盘"></a>键盘</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/hhkb-keyboard.jpg" alt="HHKB-Pro2" title="">                </div>                <div class="image-caption">HHKB-Pro2</div>            </figure><p>HHKB没有实体方向键，在VIM下没有什么影响，在Mac下也有一些快捷键可以代替方向键，总之习惯后非常好用。</p><table><thead><tr><th>快捷键</th><th>说明</th></tr></thead><tbody><tr><td>Ctrl+p</td><td>shell中上一个命令,或者 文本中移动到上一行</td></tr><tr><td>Ctrl+n</td><td>shell中下一个命令,或者 文本中移动到下一行</td></tr><tr><td>Ctrl+r</td><td>往后搜索历史命令</td></tr><tr><td>Ctrl+s</td><td>往前搜索历史命令</td></tr><tr><td>Ctrl+f</td><td>光标前移</td></tr><tr><td>Ctrl+b</td><td>光标后退</td></tr><tr><td>Ctrl+a</td><td>到行首</td></tr><tr><td>Ctrl+e</td><td>到行尾</td></tr><tr><td>Ctrl+d</td><td>删除一个字符,删除一个字符，相当于通常的Delete键</td></tr><tr><td>Ctrl+h</td><td>退格删除一个字符,相当于通常的Backspace键</td></tr><tr><td>Ctrl+u</td><td>删除到行首</td></tr><tr><td>Ctrl+k</td><td>删除到行尾</td></tr><tr><td>Ctrl+l</td><td>类似 clear 命令效果</td></tr></tbody></table><h2 id="macos-sierra"><a href="#macos-sierra" class="headerlink" title="macos sierra"></a>macos sierra</h2><pre><code>这里需要说明的是黑苹果安装是不被苹果允许的</code></pre><h3 id="下载基础工具"><a href="#下载基础工具" class="headerlink" title="下载基础工具"></a>下载基础工具</h3><ol><li><p>从<code>App Store</code>中下载<code>macos sierra</code></p></li><li><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/download-macos-sierra.png" alt="Download-macos" title="">                </div>                <div class="image-caption">Download-macos</div>            </figure></li><li><p>下载<a href="/assets/UniBeast-7.0.1.zip">Unibeast</a>，用于制作U盘镜像。</p></li><li><p>下载<a href="/assets/MultiBeast-Sierra-Edition-9.0.1.zip">MultiBeast-Sierra-Edition</a></p></li></ol><h3 id="制作USB启动工具"><a href="#制作USB启动工具" class="headerlink" title="制作USB启动工具"></a>制作USB启动工具</h3><ol><li><p>格式化USB设备（U盘）</p><p> <img src="/images/formatter-usb-boot-device.png" alt=""></p><p> <img src="/images/formatter-usb-boot-device2.png" alt=""></p></li><li><p>使用Unibeast制作U盘镜像</p><p> <img src="/images/selected-usb.png" alt=""></p><p> <img src="/images/selected-installation-type.png" alt=""></p><p> <img src="/images/bootloader-configuration.png" alt=""></p><p> 如果主板支持UEFI引导，则选择第一个，不支持则选择第二个。</p><p> <img src="/images/graph-device.png" alt=""></p><p> 选择显卡驱动</p><p> <img src="/images/copying-files.png" alt=""></p><p> 这个地方很慢，要耐心等..</p></li></ol><h3 id="BIOS设置"><a href="#BIOS设置" class="headerlink" title="BIOS设置"></a>BIOS设置</h3><ol><li><p>载入Optimized Defaults设置</p></li><li><p>打开AHCI选项，不然安装过程中可能识别不了硬盘</p></li><li><p>如果CPU支持VT-d，禁用掉</p></li><li><p>保存并且退出</p></li></ol><h3 id="安装macos-sierra"><a href="#安装macos-sierra" class="headerlink" title="安装macos sierra"></a>安装macos sierra</h3><p>正常的macos安装过程，没有特别的异常，不多做说明</p><h3 id="MultiBeast设置引导"><a href="#MultiBeast设置引导" class="headerlink" title="MultiBeast设置引导"></a>MultiBeast设置引导</h3><ul><li>勾选好需要的驱动程直接点击安装就好了， 整个过程比较顺利<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/multibeast.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure></li></ul><h3 id="常见问题和优化"><a href="#常见问题和优化" class="headerlink" title="常见问题和优化"></a>常见问题和优化</h3><ol><li><p>安装后使用App Store安装，出现无法验证您的设备或电脑，请联系技术支持寻求帮助。</p><p> 待解决</p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;苹果的&lt;code&gt;Macbook Pro&lt;/code&gt;的&lt;code&gt;8g&lt;/code&gt;内存（2016年发布会也没有推出32g版）运行一些需要集群环境的程序比较吃力，例如&lt;code&gt;Spark&lt;/code&gt;、&lt;code&gt;Openshift&lt;/code&gt;、&lt;code&gt;Fabri
      
    
    </summary>
    
    
  </entry>
  
</feed>
